{"service":"sumviet-apidevelopment","level":"info","message":"url /master-data/district {} { province_id: 0 } {}","timestamp":"2021-08-03 16:30:45"}
{"service":"sumviet-apidevelopment","level":"info","message":"Env version 1","timestamp":"2021-08-03 16:30:49"}
{"message":"cronjob topup combo start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-03 16:30:49"}
{"message":"cronjob category has product start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-03 16:30:49"}
{"message":"cronjob update promotion start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-03 16:30:49"}
{"message":"cronjob add schedule start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-03 16:30:49"}
{"service":"sumviet-apidevelopment","level":"info","message":"Start Date, 2021-08-02T17:00:00.000Z","timestamp":"2021-08-03 16:30:49"}
{"message":"Lucky shopping initializing...","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-03 16:30:49"}
{"message":"elasticsearch cluster is down!","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-03 16:30:49"}
{"message":"Database Connected","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-03 16:30:49"}
{"message":"cronjob auto handling unlucky shopping start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-03 16:30:50"}
{"service":"sumviet-apidevelopment","level":"info","message":"auto handling for date 03-08-2021 starting ....","timestamp":"2021-08-03 16:30:50"}
{"service":"sumviet-apidevelopment","level":"info","message":"luckyShopping null","timestamp":"2021-08-03 16:30:50"}
{"message":"INIT CONFIGS SUCCESS","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-03 16:30:50"}
{"message":"districtList loaded","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-03 16:30:51"}
{"service":"sumviet-apidevelopment","level":"info","message":"url /master-data/ward { district_id: -1 } {} {}","timestamp":"2021-08-03 16:30:51"}
{"message":"wardList loaded","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-03 16:30:56"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T09:40:00.000Z","timestamp":"2021-08-03 16:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 16:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 16:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 16:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 16:40:00"}
{"expose":true,"statusCode":400,"status":400,"body":"{\n    \"payment_method\":\"COD\",\n    \"order\":{\n        \"is_received_at_store\":false,\n        \"expected_received_date\":\"2022-03-20T08:31:55.582Z\",\n        \n    }\n}","type":"entity.parse.failed","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-03 16:41:53","message":"Unexpected token } in JSON at position 156","stack":"SyntaxError: Unexpected token } in JSON at position 156\n    at JSON.parse (<anonymous>)\n    at parse (/home/minhkha/Desktop/store/stht-server/node_modules/body-parser/lib/types/json.js:89:19)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/body-parser/lib/read.js:121:18\n    at invokeCallback (/home/minhkha/Desktop/store/stht-server/node_modules/raw-body/index.js:224:16)\n    at done (/home/minhkha/Desktop/store/stht-server/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/home/minhkha/Desktop/store/stht-server/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (events.js:412:35)\n    at IncomingMessage.emit (domain.js:470:12)\n    at endReadableNT (internal/streams/readable.js:1317:12)\n    at processTicksAndRejections (internal/process/task_queues.js:82:21)"}
{"statusCode":400,"error":4000,"message":"expected_received_date must be less than Fri Aug 06 2021 00:00:00 GMT+0700 (Indochina Time)","errors":{"expected_received_date":4000802},"user_id":"5e747e4f6bd99e6a93faec25","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-03 16:42:00","stack":"Error: expected_received_date must be less than Fri Aug 06 2021 00:00:00 GMT+0700 (Indochina Time)\n    at _callee12$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.controller.js:252:19)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:32:7\n    at new Promise (<anonymous>)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:21:12\n    at checkout (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.controller.js:240:36)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/validator.js:29:3\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:76:14"}
{"service":"sumviet-apidevelopment","body":{"payment_method":"COD","order":{"is_received_at_store":false,"expected_received_date":"2022-03-20T08:31:55.582Z"}},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/checkout/ 400 301 - 134.267 ms","timestamp":"2021-08-03 16:42:00"}
{"expose":true,"statusCode":400,"status":400,"body":"{\n    \"payment_method\":\"COD\",\n    \"order\":{\n        \"is_received_at_store\":false,\n        \n\n    }\n}","type":"entity.parse.failed","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-03 16:42:13","message":"Unexpected token } in JSON at position 96","stack":"SyntaxError: Unexpected token } in JSON at position 96\n    at JSON.parse (<anonymous>)\n    at parse (/home/minhkha/Desktop/store/stht-server/node_modules/body-parser/lib/types/json.js:89:19)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/body-parser/lib/read.js:121:18\n    at invokeCallback (/home/minhkha/Desktop/store/stht-server/node_modules/raw-body/index.js:224:16)\n    at done (/home/minhkha/Desktop/store/stht-server/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/home/minhkha/Desktop/store/stht-server/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (events.js:412:35)\n    at IncomingMessage.emit (domain.js:470:12)\n    at endReadableNT (internal/streams/readable.js:1317:12)\n    at processTicksAndRejections (internal/process/task_queues.js:82:21)"}
{"service":"sumviet-apidevelopment","level":"info","message":"order {\n  logistics_available: [\n    {\n      provider: 'ghn',\n      display_name: 'Giao h√†ng nhanh',\n      logo: 'public/images/logistics/ghn.png'\n    },\n    [length]: 1\n  ],\n  is_received_at_store: false,\n  _id: 6107692f9a50d5b87f4ffebf,\n  company_id: 5e747f036bd99e6a93faef55,\n  store_id: 5e74812c6bd99e6a93faf8dd,\n  products: [\n    {\n      quantity: 1,\n      model_list: [\n        {\n          tier_index: [Array],\n          status: 'active',\n          is_limited_stock: true,\n          batch_box_stock: 2,\n          os_box_stock: 28,\n          box_stock: 30,\n          stock_per_box: 10,\n          stock: 25,\n          on_sales_stock: 280,\n          images: [Array],\n          sold_count: 727,\n          refund_rate: 0.1,\n          discount: 29001,\n          discount_rate: 0.5,\n          promotion_refund_rate: 0.5,\n          promotion_discount_rate: 0.5,\n          global_promotion_refund_rate: 0,\n          global_promotion_discount_rate: 0,\n          _id: 60adb152d4c6f92de2e89d62,\n          refund: 29001,\n          total_refund_rate: 0.5,\n          name: 'Do, M',\n          price: 58001,\n          SKU: '123456',\n          model_id: '60adb152d4c6f92de2e89d62',\n          pure_name: 'Do, M',\n          box_price: 100000\n        },\n        {\n          tier_index: [Array],\n          status: 'active',\n          is_limited_stock: true,\n          batch_box_stock: 0,\n          os_box_stock: 0,\n          box_stock: 0,\n          stock_per_box: 1,\n          stock: 0,\n          on_sales_stock: 0,\n          images: [Array],\n          sold_count: 0,\n          refund_rate: 0.2,\n          discount: 29001,\n          discount_rate: 0.5,\n          promotion_refund_rate: 0.5,\n          promotion_discount_rate: 0.5,\n          global_promotion_refund_rate: 0,\n          global_promotion_discount_rate: 0,\n          _id: 60adb152d4c6f92de2e89d63,\n          refund: 29001,\n          total_refund_rate: 0.5,\n          name: 'Do, L',\n          price: 58002,\n          SKU: '123457',\n          model_id: '60adb152d4c6f92de2e89d63',\n          pure_name: 'Do, L'\n        },\n        {\n          tier_index: [Array],\n          status: 'active',\n          is_limited_stock: true,\n          batch_box_stock: 0,\n          os_box_stock: 0,\n          box_stock: 0,\n          stock_per_box: 1,\n          stock: 0,\n          on_sales_stock: 0,\n          images: [Array],\n          sold_count: 0,\n          refund_rate: 0.1,\n          discount: 29000,\n          discount_rate: 0.5,\n          promotion_refund_rate: 0.5,\n          promotion_discount_rate: 0.5,\n          global_promotion_refund_rate: 0,\n          global_promotion_discount_rate: 0,\n          _id: 60adb152d4c6f92de2e89d66,\n          refund: 29000,\n          total_refund_rate: 0.5,\n          name: 'Default',\n          SKU: '123400',\n          price: 58000,\n          model_id: '60adb152d4c6f92de2e89d66',\n          pure_name: 'Default'\n        },\n        [length]: 3\n      ],\n      tier_variations: [\n        { values: [Array], _id: 60adb152d4c6f92de2e89d64, name: 'M√†u' },\n        {\n          values: [Array],\n          _id: 60adb152d4c6f92de2e89d65,\n          name: 'Size'\n        },\n        [length]: 2\n      ],\n      model_images: [ 'aaaaaaaaaaaaaaaaaaaaaa', [length]: 1 ],\n      _id: 60adb69a9a1909327669542a,\n      id: 60adb152d4c6f92de2e89d60,\n      product_id: 60adb152d4c6f92de2e89d60,\n      product_storing_id: 60adb69a9a1909327669542a,\n      company_id: 5e747f036bd99e6a93faef55,\n      store_id: 5e74812c6bd99e6a93faf8dd,\n      model_id: 60adb152d4c6f92de2e89d62,\n      accompanied_products: [ [length]: 0 ],\n      options: [\n        {\n          _id: 606fd60b0f1e2e3a9b9ee098,\n          status: 'active',\n          required: false,\n          type: 'option',\n          unit: 'na',\n          name: 'Combo',\n          image_url: 'https://loganfashion.com/wp-content/uploads/2020/08/logo.png',\n          store_id: 5e74819e6bd99e6a93fb004a,\n          company_id: 5e747f196bd99e6a93faefc9,\n          createdAt: 2021-04-09T04:20:27.215Z,\n          updatedAt: 2021-04-09T04:20:27.215Z,\n          pure_name: 'combo',\n          item: [Object]\n        },\n        [length]: 1\n      ],\n      model_name: 'Do, M',\n      createdAt: 2021-08-02T03:40:31.921Z,\n      updatedAt: 2021-08-02T03:40:31.921Z,\n      discount_rate: NaN,\n      original_refund_rate: NaN,\n      refund_rate: NaN\n    },\n    {\n      quantity: 10,\n      model_list: [\n        {\n          tier_index: [Array],\n          status: 'active',\n          is_limited_stock: true,\n          batch_box_stock: 0,\n          os_box_stock: 0,\n          box_stock: 0,\n          stock_per_box: 1,\n          stock: 0,\n          on_sales_stock: 0,\n          images: [Array],\n          sold_count: 59,\n          refund_rate: 0.1,\n          discount: 0,\n          discount_rate: 0,\n          promotion_refund_rate: 0,\n          promotion_discount_rate: 0,\n          global_promotion_refund_rate: 0,\n          global_promotion_discount_rate: 0,\n          _id: 60a7f38411d36824a1b6821d,\n          model_id: '60a7f38411d36824a1b6821d',\n          name: 'default',\n          price: 699000,\n          refund: 69900,\n          total_refund_rate: 0.1,\n          pure_name: 'default'\n        },\n        {\n          tier_index: [Array],\n          status: 'active',\n          is_limited_stock: true,\n          batch_box_stock: 0,\n          os_box_stock: 0,\n          box_stock: 0,\n          stock_per_box: 1,\n          stock: 0,\n          on_sales_stock: 0,\n          images: [Array],\n          sold_count: 59,\n          refund_rate: 0.1,\n          discount: 0,\n          discount_rate: 0,\n          promotion_refund_rate: 0,\n          promotion_discount_rate: 0,\n          global_promotion_refund_rate: 0,\n          global_promotion_discount_rate: 0,\n          _id: 60a7f38411d36824a1b6821e,\n          model_id: '60a7f38411d36824a1b6821e',\n          name: 'model 1',\n          price: 699000,\n          refund: 69900,\n          total_refund_rate: 0.1,\n          pure_name: 'model 1'\n        },\n        [length]: 2\n      ],\n      tier_variations: [\n        {\n          values: [Array],\n          _id: 60a7f38411d36824a1b6821e,\n          name: 'default'\n        },\n        [length]: 1\n      ],\n      model_images: [ [length]: 0 ],\n      _id: 5e74949c6bd99e6a93fb2604,\n      id: 5e74949c6bd99e6a93fb2603,\n      product_id: 5e74949c6bd99e6a93fb2603,\n      product_storing_id: 5e74949c6bd99e6a93fb2604,\n      company_id: 5e747f036bd99e6a93faef55,\n      store_id: 5e74812c6bd99e6a93faf8dd,\n      model_id: 60a7f38411d36824a1b6821d,\n      accompanied_products: [ [length]: 0 ],\n      options: [ [length]: 0 ],\n      model_name: 'default',\n      createdAt: 2021-08-02T07:22:30.039Z,\n      updatedAt: 2021-08-02T07:22:30.039Z,\n      discount_rate: NaN,\n      original_refund_rate: NaN,\n      refund_rate: NaN\n    },\n    [length]: 2\n  ],\n  logistics_info: { shop_id: 80043 },\n  store_address: {\n    province: 'Th√†nh ph·ªë H·ªì Ch√≠ Minh',\n    province_code: '0',\n    district: 'Huy·ªán C·ªß Chi',\n    district_code: '783',\n    ward: 'X√£ Ph·∫°m VƒÉn C·ªôi',\n    ward_code: '27514',\n    phone_number: '0976489588',\n    manager_name: 'Absa',\n    text: '',\n    normalizedAddress: ', X√£ Ph·∫°m VƒÉn C·ªôi, Huy·ªán C·ªß Chi, Th√†nh ph·ªë H·ªì Ch√≠ Minh'\n  }\n}","timestamp":"2021-08-03 16:42:17"}
{"service":"sumviet-apidevelopment","level":"info","message":"url /v2/shipping-order/fee {\n  shop_id: 80043,\n  from_district_id: 1460,\n  to_district_id: 1463,\n  weight: 110,\n  length: 28,\n  width: 13,\n  height: 160,\n  insurance_value: 3000000,\n  to_ward_code: '21808',\n  from_ward_code: '22107',\n  service_type_id: 2\n} {} { shop_id: 80043 }","timestamp":"2021-08-03 16:42:17"}
{"statusCode":400,"error":7000,"message":"promotion code is out of stock","errors":{"total":7007101},"level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-03 16:42:17","stack":"Error: promotion code is out of stock\n    at _callee3$ (/home/minhkha/Desktop/store/stht-server/src/search/promotion-code/v2/promotion-code.service.js:204:13)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:32:7\n    at new Promise (<anonymous>)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:21:12\n    at /home/minhkha/Desktop/store/stht-server/src/search/promotion-code/v2/promotion-code.service.js:161:33\n    at _callee$ (/home/minhkha/Desktop/store/stht-server/src/search/promotion-code/v2/promotion-code.service.js:90:55)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"payment_method":"COD","order":{"is_received_at_store":false}},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/checkout/ 200 17656 - 1067.938 ms","timestamp":"2021-08-03 16:42:18"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T09:50:00.000Z","timestamp":"2021-08-03 16:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 16:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 16:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 16:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 16:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T10:00:00.000Z","timestamp":"2021-08-03 17:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 17:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 17:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 17:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 17:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T10:10:00.000Z","timestamp":"2021-08-03 17:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 17:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 17:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 17:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 17:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T10:20:00.000Z","timestamp":"2021-08-03 17:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 17:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 17:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 17:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 17:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T10:30:00.000Z","timestamp":"2021-08-03 17:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 17:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 17:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 17:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 17:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T10:40:00.000Z","timestamp":"2021-08-03 17:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 17:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 17:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 17:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 17:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T10:50:00.000Z","timestamp":"2021-08-03 17:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 17:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 17:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 17:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 17:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T11:00:00.000Z","timestamp":"2021-08-03 18:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 18:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 18:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 18:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 18:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T11:10:00.000Z","timestamp":"2021-08-03 18:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 18:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 18:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 18:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 18:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T11:20:00.000Z","timestamp":"2021-08-03 18:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 18:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 18:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 18:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 18:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T11:30:00.000Z","timestamp":"2021-08-03 18:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 18:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 18:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 18:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 18:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T11:40:00.000Z","timestamp":"2021-08-03 18:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 18:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 18:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 18:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 18:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T11:50:00.000Z","timestamp":"2021-08-03 18:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 18:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 18:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 18:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 18:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T12:00:00.000Z","timestamp":"2021-08-03 19:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 19:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 19:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 19:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 19:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T12:10:00.000Z","timestamp":"2021-08-03 19:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 19:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 19:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 19:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 19:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T12:20:00.000Z","timestamp":"2021-08-03 19:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 19:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 19:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 19:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 19:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T12:30:00.000Z","timestamp":"2021-08-03 19:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 19:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 19:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 19:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 19:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T12:40:00.000Z","timestamp":"2021-08-03 19:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 19:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 19:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 19:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 19:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T12:50:00.000Z","timestamp":"2021-08-03 19:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 19:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 19:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 19:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 19:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T13:00:00.000Z","timestamp":"2021-08-03 20:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 20:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 20:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 20:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 20:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T13:10:00.000Z","timestamp":"2021-08-03 20:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 20:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 20:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 20:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 20:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T13:20:00.000Z","timestamp":"2021-08-03 20:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 20:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 20:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 20:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 20:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"url /master-data/district {} { province_id: 0 } {}","timestamp":"2021-08-03 20:24:25"}
{"service":"sumviet-apidevelopment","level":"info","message":"Env version 1","timestamp":"2021-08-03 20:24:27"}
{"message":"cronjob topup combo start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-03 20:24:27"}
{"message":"cronjob category has product start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-03 20:24:27"}
{"message":"cronjob update promotion start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-03 20:24:27"}
{"message":"cronjob add schedule start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-03 20:24:27"}
{"service":"sumviet-apidevelopment","level":"info","message":"Start Date, 2021-08-02T17:00:00.000Z","timestamp":"2021-08-03 20:24:27"}
{"message":"Lucky shopping initializing...","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-03 20:24:27"}
{"message":"elasticsearch cluster is down!","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-03 20:24:27"}
{"message":"Database Connected","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-03 20:24:27"}
{"message":"cronjob auto handling unlucky shopping start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-03 20:24:27"}
{"service":"sumviet-apidevelopment","level":"info","message":"auto handling for date 03-08-2021 starting ....","timestamp":"2021-08-03 20:24:27"}
{"message":"INIT CONFIGS SUCCESS","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-03 20:24:27"}
{"service":"sumviet-apidevelopment","level":"info","message":"luckyShopping null","timestamp":"2021-08-03 20:24:27"}
{"message":"districtList loaded","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-03 20:24:27"}
{"service":"sumviet-apidevelopment","level":"info","message":"url /master-data/ward { district_id: -1 } {} {}","timestamp":"2021-08-03 20:24:27"}
{"message":"wardList loaded","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-03 20:24:31"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T13:30:00.000Z","timestamp":"2021-08-03 20:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 20:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 20:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 20:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 20:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T13:40:00.000Z","timestamp":"2021-08-03 20:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 20:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 20:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 20:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 20:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T13:50:00.000Z","timestamp":"2021-08-03 20:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 20:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 20:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 20:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 20:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T14:00:00.000Z","timestamp":"2021-08-03 21:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 21:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 21:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 21:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 21:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T14:10:00.000Z","timestamp":"2021-08-03 21:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 21:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 21:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 21:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 21:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T14:20:00.000Z","timestamp":"2021-08-03 21:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 21:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 21:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 21:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 21:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T14:30:00.000Z","timestamp":"2021-08-03 21:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 21:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 21:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 21:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 21:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T14:40:00.000Z","timestamp":"2021-08-03 21:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 21:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 21:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 21:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 21:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T14:50:00.000Z","timestamp":"2021-08-03 21:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 21:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 21:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 21:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 21:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T15:00:00.000Z","timestamp":"2021-08-03 22:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 22:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 22:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 22:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 22:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T15:10:00.000Z","timestamp":"2021-08-03 22:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 22:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 22:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 22:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 22:10:00"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"5e74949c6bd99e6a93fb2604","company_id":"5e747f036bd99e6a93faef55","quantity":10,"model_id":"60a7f38411d36824a1b6821d"},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product/ 200 10901 - 146.720 ms","timestamp":"2021-08-03 22:12:30"}
{"service":"sumviet-apidevelopment","level":"info","message":"order {\n  logistics_available: [\n    {\n      provider: 'ghn',\n      display_name: 'Giao h√†ng nhanh',\n      logo: 'public/images/logistics/ghn.png'\n    },\n    [length]: 1\n  ],\n  is_received_at_store: false,\n  _id: 6107692f9a50d5b87f4ffebf,\n  company_id: 5e747f036bd99e6a93faef55,\n  store_id: 5e74812c6bd99e6a93faf8dd,\n  products: [\n    {\n      quantity: 1,\n      model_list: [\n        {\n          tier_index: [Array],\n          status: 'active',\n          is_limited_stock: true,\n          batch_box_stock: 2,\n          os_box_stock: 28,\n          box_stock: 30,\n          stock_per_box: 10,\n          stock: 25,\n          on_sales_stock: 280,\n          images: [Array],\n          sold_count: 727,\n          refund_rate: 0.1,\n          discount: 29001,\n          discount_rate: 0.5,\n          promotion_refund_rate: 0.5,\n          promotion_discount_rate: 0.5,\n          global_promotion_refund_rate: 0,\n          global_promotion_discount_rate: 0,\n          _id: 60adb152d4c6f92de2e89d62,\n          refund: 29001,\n          total_refund_rate: 0.5,\n          name: 'Do, M',\n          price: 58001,\n          SKU: '123456',\n          model_id: '60adb152d4c6f92de2e89d62',\n          pure_name: 'Do, M',\n          box_price: 100000\n        },\n        {\n          tier_index: [Array],\n          status: 'active',\n          is_limited_stock: true,\n          batch_box_stock: 0,\n          os_box_stock: 0,\n          box_stock: 0,\n          stock_per_box: 1,\n          stock: 0,\n          on_sales_stock: 0,\n          images: [Array],\n          sold_count: 0,\n          refund_rate: 0.2,\n          discount: 29001,\n          discount_rate: 0.5,\n          promotion_refund_rate: 0.5,\n          promotion_discount_rate: 0.5,\n          global_promotion_refund_rate: 0,\n          global_promotion_discount_rate: 0,\n          _id: 60adb152d4c6f92de2e89d63,\n          refund: 29001,\n          total_refund_rate: 0.5,\n          name: 'Do, L',\n          price: 58002,\n          SKU: '123457',\n          model_id: '60adb152d4c6f92de2e89d63',\n          pure_name: 'Do, L'\n        },\n        {\n          tier_index: [Array],\n          status: 'active',\n          is_limited_stock: true,\n          batch_box_stock: 0,\n          os_box_stock: 0,\n          box_stock: 0,\n          stock_per_box: 1,\n          stock: 0,\n          on_sales_stock: 0,\n          images: [Array],\n          sold_count: 0,\n          refund_rate: 0.1,\n          discount: 29000,\n          discount_rate: 0.5,\n          promotion_refund_rate: 0.5,\n          promotion_discount_rate: 0.5,\n          global_promotion_refund_rate: 0,\n          global_promotion_discount_rate: 0,\n          _id: 60adb152d4c6f92de2e89d66,\n          refund: 29000,\n          total_refund_rate: 0.5,\n          name: 'Default',\n          SKU: '123400',\n          price: 58000,\n          model_id: '60adb152d4c6f92de2e89d66',\n          pure_name: 'Default'\n        },\n        [length]: 3\n      ],\n      tier_variations: [\n        { values: [Array], _id: 60adb152d4c6f92de2e89d64, name: 'M√†u' },\n        {\n          values: [Array],\n          _id: 60adb152d4c6f92de2e89d65,\n          name: 'Size'\n        },\n        [length]: 2\n      ],\n      model_images: [ 'aaaaaaaaaaaaaaaaaaaaaa', [length]: 1 ],\n      _id: 60adb69a9a1909327669542a,\n      id: 60adb152d4c6f92de2e89d60,\n      product_id: 60adb152d4c6f92de2e89d60,\n      product_storing_id: 60adb69a9a1909327669542a,\n      company_id: 5e747f036bd99e6a93faef55,\n      store_id: 5e74812c6bd99e6a93faf8dd,\n      model_id: 60adb152d4c6f92de2e89d62,\n      accompanied_products: [ [length]: 0 ],\n      options: [\n        {\n          _id: 606fd60b0f1e2e3a9b9ee098,\n          status: 'active',\n          required: false,\n          type: 'option',\n          unit: 'na',\n          name: 'Combo',\n          image_url: 'https://loganfashion.com/wp-content/uploads/2020/08/logo.png',\n          store_id: 5e74819e6bd99e6a93fb004a,\n          company_id: 5e747f196bd99e6a93faefc9,\n          createdAt: 2021-04-09T04:20:27.215Z,\n          updatedAt: 2021-04-09T04:20:27.215Z,\n          pure_name: 'combo',\n          item: [Object]\n        },\n        [length]: 1\n      ],\n      model_name: 'Do, M',\n      createdAt: 2021-08-02T03:40:31.921Z,\n      updatedAt: 2021-08-03T09:42:17.946Z,\n      original_price: 58001,\n      original_total: 58001,\n      applied_promotion_quantity: 0,\n      refund_rate: 0.1,\n      discount_rate: 0,\n      discount: 0,\n      total_discount: 0,\n      original_refund_rate: 0.1,\n      original_refund: 5800,\n      refund: 5800,\n      total_refund: 5800,\n      final_price: 58001,\n      total: 58001\n    },\n    {\n      quantity: 10,\n      model_list: [\n        {\n          tier_index: [Array],\n          status: 'active',\n          is_limited_stock: true,\n          batch_box_stock: 0,\n          os_box_stock: 0,\n          box_stock: 0,\n          stock_per_box: 1,\n          stock: 0,\n          on_sales_stock: 0,\n          images: [Array],\n          sold_count: 59,\n          refund_rate: 0.1,\n          discount: 0,\n          discount_rate: 0,\n          promotion_refund_rate: 0,\n          promotion_discount_rate: 0,\n          global_promotion_refund_rate: 0,\n          global_promotion_discount_rate: 0,\n          _id: 60a7f38411d36824a1b6821d,\n          model_id: '60a7f38411d36824a1b6821d',\n          name: 'default',\n          price: 699000,\n          refund: 69900,\n          total_refund_rate: 0.1,\n          pure_name: 'default'\n        },\n        {\n          tier_index: [Array],\n          status: 'active',\n          is_limited_stock: true,\n          batch_box_stock: 0,\n          os_box_stock: 0,\n          box_stock: 0,\n          stock_per_box: 1,\n          stock: 0,\n          on_sales_stock: 0,\n          images: [Array],\n          sold_count: 59,\n          refund_rate: 0.1,\n          discount: 0,\n          discount_rate: 0,\n          promotion_refund_rate: 0,\n          promotion_discount_rate: 0,\n          global_promotion_refund_rate: 0,\n          global_promotion_discount_rate: 0,\n          _id: 60a7f38411d36824a1b6821e,\n          model_id: '60a7f38411d36824a1b6821e',\n          name: 'model 1',\n          price: 699000,\n          refund: 69900,\n          total_refund_rate: 0.1,\n          pure_name: 'model 1'\n        },\n        [length]: 2\n      ],\n      tier_variations: [\n        {\n          values: [Array],\n          _id: 60a7f38411d36824a1b6821e,\n          name: 'default'\n        },\n        [length]: 1\n      ],\n      model_images: [ [length]: 0 ],\n      _id: 5e74949c6bd99e6a93fb2604,\n      id: 5e74949c6bd99e6a93fb2603,\n      product_id: 5e74949c6bd99e6a93fb2603,\n      product_storing_id: 5e74949c6bd99e6a93fb2604,\n      company_id: 5e747f036bd99e6a93faef55,\n      store_id: 5e74812c6bd99e6a93faf8dd,\n      model_id: 60a7f38411d36824a1b6821d,\n      accompanied_products: [ [length]: 0 ],\n      options: [ [length]: 0 ],\n      model_name: 'default',\n      createdAt: 2021-08-02T07:22:30.039Z,\n      updatedAt: 2021-08-03T09:42:17.946Z,\n      applied_promotion_quantity: 0,\n      original_price: 699000,\n      original_total: 6990000,\n      refund_rate: 0.1,\n      discount_rate: 0,\n      discount: 0,\n      total_discount: 0,\n      original_refund_rate: 0.1,\n      original_refund: 69900,\n      refund: 69900,\n      total_refund: 699000,\n      final_price: 699000,\n      total: 6990000\n    },\n    [length]: 2\n  ],\n  logistics_info: {\n    shop_id: 80043,\n    from_district_id: 1460,\n    to_district_id: 1463,\n    weight: 110,\n    length: 28,\n    width: 13,\n    height: 160,\n    insurance_value: 3000000,\n    to_ward_code: '21808',\n    from_ward_code: '22107',\n    service_type_id: 2\n  },\n  store_address: {\n    province: 'Th√†nh ph·ªë H·ªì Ch√≠ Minh',\n    province_code: '0',\n    district: 'Huy·ªán C·ªß Chi',\n    district_code: '783',\n    ward: 'X√£ Ph·∫°m VƒÉn C·ªôi',\n    ward_code: '27514',\n    phone_number: '0976489588',\n    manager_name: 'Absa',\n    text: '',\n    normalizedAddress: ', X√£ Ph·∫°m VƒÉn C·ªôi, Huy·ªán C·ªß Chi, Th√†nh ph·ªë H·ªì Ch√≠ Minh'\n  },\n  total_discount: 0,\n  total_refund: 704800,\n  total: 7048001,\n  original_total: 7048001,\n  logistics_provider: 'ghn',\n  logistics_display_name: 'Giao h√†ng nhanh',\n  calculated_transport_fee: 122100,\n  transport_fee: 0,\n  is_discount_transport: true\n}","timestamp":"2021-08-03 22:12:46"}
{"service":"sumviet-apidevelopment","level":"info","message":"url /v2/shipping-order/fee {\n  shop_id: 80043,\n  from_district_id: 1460,\n  to_district_id: 1463,\n  weight: 110,\n  length: 28,\n  width: 13,\n  height: 160,\n  insurance_value: 3000000,\n  to_ward_code: '21808',\n  from_ward_code: '22107',\n  service_type_id: 2\n} {} { shop_id: 80043 }","timestamp":"2021-08-03 22:12:46"}
{"statusCode":400,"error":7000,"message":"promotion code is out of stock","errors":{"total":7007101},"level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-03 22:12:47","stack":"Error: promotion code is out of stock\n    at _callee3$ (/home/minhkha/Desktop/store/stht-server/src/search/promotion-code/v2/promotion-code.service.js:204:13)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:32:7\n    at new Promise (<anonymous>)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:21:12\n    at /home/minhkha/Desktop/store/stht-server/src/search/promotion-code/v2/promotion-code.service.js:161:33\n    at _callee$ (/home/minhkha/Desktop/store/stht-server/src/search/promotion-code/v2/promotion-code.service.js:90:55)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"payment_method":"COD","order":{"is_received_at_store":false}},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/checkout/ 200 17656 - 884.654 ms","timestamp":"2021-08-03 22:12:47"}
{"statusCode":400,"error":7000,"message":"promotion code is out of stock","errors":{"total":7007101},"level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-03 22:14:09","stack":"Error: promotion code is out of stock\n    at _callee3$ (/home/minhkha/Desktop/store/stht-server/src/search/promotion-code/v2/promotion-code.service.js:204:13)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:32:7\n    at new Promise (<anonymous>)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:21:12\n    at /home/minhkha/Desktop/store/stht-server/src/search/promotion-code/v2/promotion-code.service.js:161:33\n    at _callee$ (/home/minhkha/Desktop/store/stht-server/src/search/promotion-code/v2/promotion-code.service.js:90:55)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"payment_method":"COD","order":{"is_received_at_store":false}},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/checkout/ 200 17622 - 103.437 ms","timestamp":"2021-08-03 22:14:09"}
{"service":"sumviet-apidevelopment","body":{},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"GET /api/s_/promotion/v2/company/61066f7249860815af4964c0 400 103 - 20.100 ms","timestamp":"2021-08-03 22:16:11"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949c6bd99e6a93fb2603","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821d","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Th√≠ch th√¨ KM","description":"Ngon, b·ªï, r·∫ª","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":2}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company/ 200 2822 - 60.468 ms","timestamp":"2021-08-03 22:17:18"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T15:20:00.000Z","timestamp":"2021-08-03 22:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 22:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 22:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 22:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 22:20:00"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"5e74949c6bd99e6a93fb2604","company_id":"5e747f036bd99e6a93faef55","quantity":5,"model_id":"60a7f38411d36824a1b6821d"},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product/ 200 10900 - 108.070 ms","timestamp":"2021-08-03 22:24:39"}
{"message":"updateCompanyLimit","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-03 22:28:23"}
{"service":"sumviet-apidevelopment","body":{"promotion_id":"61095dfed824fb2cd34c6e4f","status":"active"},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"PUT /api/s_/promotion/v2/company/status 200 2592 - 25.700 ms","timestamp":"2021-08-03 22:28:23"}
{"service":"sumviet-apidevelopment","level":"info","message":"update ProductStorings By Promotion Changes 5e747f036bd99e6a93faef55","timestamp":"2021-08-03 22:28:23"}
{"message":"get Max Company By Promotion Changes","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-03 22:28:25"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"5e74949c6bd99e6a93fb2604","company_id":"5e747f036bd99e6a93faef55","quantity":5,"model_id":"60a7f38411d36824a1b6821d"},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product/ 200 5432 - 60.530 ms","timestamp":"2021-08-03 22:28:40"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T15:30:00.000Z","timestamp":"2021-08-03 22:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 22:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 22:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 22:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 22:30:00"}
{"statusCode":400,"error":7000,"message":"status is not valid, the valid value is \"disabled\" when previous status is not \"active\"","errors":{"status":4000103},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-03 22:30:19","stack":"Error: status is not valid, the valid value is \"disabled\" when previous status is not \"active\"\n    at _callee3$ (/home/minhkha/Desktop/store/stht-server/src/search/promotion/v2/promotion.owner.controller.js:307:9)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"promotion_id":"61095dfed824fb2cd34c6e4f","status":"active"},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"PUT /api/s_/promotion/v2/company/status 400 325 - 45.794 ms","timestamp":"2021-08-03 22:30:19"}
{"service":"sumviet-apidevelopment","level":"info","message":"order {\n  logistics_available: [\n    {\n      provider: 'ghn',\n      display_name: 'Giao h√†ng nhanh',\n      logo: 'public/images/logistics/ghn.png'\n    },\n    [length]: 1\n  ],\n  is_received_at_store: false,\n  _id: 610960a8d824fb2cd34c7339,\n  company_id: 5e747f036bd99e6a93faef55,\n  store_id: 5e74812c6bd99e6a93faf8dd,\n  products: [\n    {\n      quantity: 5,\n      model_list: [\n        {\n          tier_index: [Array],\n          status: 'active',\n          is_limited_stock: true,\n          batch_box_stock: 0,\n          os_box_stock: 0,\n          box_stock: 0,\n          stock_per_box: 1,\n          stock: 0,\n          on_sales_stock: 0,\n          images: [Array],\n          sold_count: 59,\n          refund_rate: 0.1,\n          discount: 0,\n          discount_rate: 0,\n          promotion_refund_rate: 0,\n          promotion_discount_rate: 0,\n          global_promotion_refund_rate: 0,\n          global_promotion_discount_rate: 0,\n          _id: 60a7f38411d36824a1b6821d,\n          model_id: '60a7f38411d36824a1b6821d',\n          name: 'default',\n          price: 699000,\n          refund: 69900,\n          total_refund_rate: 0.1,\n          pure_name: 'default'\n        },\n        {\n          tier_index: [Array],\n          status: 'active',\n          is_limited_stock: true,\n          batch_box_stock: 0,\n          os_box_stock: 0,\n          box_stock: 0,\n          stock_per_box: 1,\n          stock: 0,\n          on_sales_stock: 0,\n          images: [Array],\n          sold_count: 59,\n          refund_rate: 0.1,\n          discount: 0,\n          discount_rate: 0,\n          promotion_refund_rate: 0,\n          promotion_discount_rate: 0,\n          global_promotion_refund_rate: 0,\n          global_promotion_discount_rate: 0,\n          _id: 60a7f38411d36824a1b6821e,\n          model_id: '60a7f38411d36824a1b6821e',\n          name: 'model 1',\n          price: 699000,\n          refund: 69900,\n          total_refund_rate: 0.1,\n          pure_name: 'model 1'\n        },\n        [length]: 2\n      ],\n      tier_variations: [\n        {\n          values: [Array],\n          _id: 60a7f38411d36824a1b6821e,\n          name: 'default'\n        },\n        [length]: 1\n      ],\n      model_images: [ [length]: 0 ],\n      _id: 5e74949c6bd99e6a93fb2604,\n      id: 5e74949c6bd99e6a93fb2603,\n      product_id: 5e74949c6bd99e6a93fb2603,\n      product_storing_id: 5e74949c6bd99e6a93fb2604,\n      company_id: 5e747f036bd99e6a93faef55,\n      store_id: 5e74812c6bd99e6a93faf8dd,\n      model_id: 60a7f38411d36824a1b6821d,\n      accompanied_products: [ [length]: 0 ],\n      options: [ [length]: 0 ],\n      model_name: 'default',\n      createdAt: 2021-08-03T15:28:40.758Z,\n      updatedAt: 2021-08-03T15:28:40.758Z,\n      discount_rate: NaN,\n      original_refund_rate: NaN,\n      refund_rate: NaN\n    },\n    [length]: 1\n  ],\n  logistics_info: { shop_id: 80043 },\n  store_address: {\n    province: 'Th√†nh ph·ªë H·ªì Ch√≠ Minh',\n    province_code: '0',\n    district: 'Huy·ªán C·ªß Chi',\n    district_code: '783',\n    ward: 'X√£ Ph·∫°m VƒÉn C·ªôi',\n    ward_code: '27514',\n    phone_number: '0976489588',\n    manager_name: 'Absa',\n    text: '',\n    normalizedAddress: ', X√£ Ph·∫°m VƒÉn C·ªôi, Huy·ªán C·ªß Chi, Th√†nh ph·ªë H·ªì Ch√≠ Minh'\n  }\n}","timestamp":"2021-08-03 22:31:24"}
{"service":"sumviet-apidevelopment","level":"info","message":"url /v2/shipping-order/fee {\n  shop_id: 80043,\n  from_district_id: 1460,\n  to_district_id: 1463,\n  weight: 50,\n  length: 18,\n  width: 3,\n  height: 75,\n  insurance_value: 3000000,\n  to_ward_code: '21808',\n  from_ward_code: '22107',\n  service_type_id: 2\n} {} { shop_id: 80043 }","timestamp":"2021-08-03 22:31:24"}
{"service":"sumviet-apidevelopment","body":{"payment_method":"COD","order":{"is_received_at_store":false}},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/checkout/ 200 9435 - 745.483 ms","timestamp":"2021-08-03 22:31:25"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"5e74949c6bd99e6a93fb2604","company_id":"5e747f036bd99e6a93faef55","quantity":6,"model_id":"60a7f38411d36824a1b6821d"},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product/ 200 5432 - 60.157 ms","timestamp":"2021-08-03 22:33:20"}
{"service":"sumviet-apidevelopment","level":"info","message":"order {\n  logistics_available: [\n    {\n      provider: 'ghn',\n      display_name: 'Giao h√†ng nhanh',\n      logo: 'public/images/logistics/ghn.png'\n    },\n    [length]: 1\n  ],\n  is_received_at_store: false,\n  _id: 610961c0d824fb2cd34c73d9,\n  company_id: 5e747f036bd99e6a93faef55,\n  store_id: 5e74812c6bd99e6a93faf8dd,\n  products: [\n    {\n      quantity: 6,\n      model_list: [\n        {\n          tier_index: [Array],\n          status: 'active',\n          is_limited_stock: true,\n          batch_box_stock: 0,\n          os_box_stock: 0,\n          box_stock: 0,\n          stock_per_box: 1,\n          stock: 0,\n          on_sales_stock: 0,\n          images: [Array],\n          sold_count: 59,\n          refund_rate: 0.1,\n          discount: 0,\n          discount_rate: 0,\n          promotion_refund_rate: 0,\n          promotion_discount_rate: 0,\n          global_promotion_refund_rate: 0,\n          global_promotion_discount_rate: 0,\n          _id: 60a7f38411d36824a1b6821d,\n          model_id: '60a7f38411d36824a1b6821d',\n          name: 'default',\n          price: 699000,\n          refund: 69900,\n          total_refund_rate: 0.1,\n          pure_name: 'default'\n        },\n        {\n          tier_index: [Array],\n          status: 'active',\n          is_limited_stock: true,\n          batch_box_stock: 0,\n          os_box_stock: 0,\n          box_stock: 0,\n          stock_per_box: 1,\n          stock: 0,\n          on_sales_stock: 0,\n          images: [Array],\n          sold_count: 59,\n          refund_rate: 0.1,\n          discount: 0,\n          discount_rate: 0,\n          promotion_refund_rate: 0,\n          promotion_discount_rate: 0,\n          global_promotion_refund_rate: 0,\n          global_promotion_discount_rate: 0,\n          _id: 60a7f38411d36824a1b6821e,\n          model_id: '60a7f38411d36824a1b6821e',\n          name: 'model 1',\n          price: 699000,\n          refund: 69900,\n          total_refund_rate: 0.1,\n          pure_name: 'model 1'\n        },\n        [length]: 2\n      ],\n      tier_variations: [\n        {\n          values: [Array],\n          _id: 60a7f38411d36824a1b6821e,\n          name: 'default'\n        },\n        [length]: 1\n      ],\n      model_images: [ [length]: 0 ],\n      _id: 5e74949c6bd99e6a93fb2604,\n      id: 5e74949c6bd99e6a93fb2603,\n      product_id: 5e74949c6bd99e6a93fb2603,\n      product_storing_id: 5e74949c6bd99e6a93fb2604,\n      company_id: 5e747f036bd99e6a93faef55,\n      store_id: 5e74812c6bd99e6a93faf8dd,\n      model_id: 60a7f38411d36824a1b6821d,\n      accompanied_products: [ [length]: 0 ],\n      options: [ [length]: 0 ],\n      model_name: 'default',\n      createdAt: 2021-08-03T15:33:20.706Z,\n      updatedAt: 2021-08-03T15:33:20.706Z,\n      discount_rate: NaN,\n      original_refund_rate: NaN,\n      refund_rate: NaN\n    },\n    [length]: 1\n  ],\n  logistics_info: { shop_id: 80043 },\n  store_address: {\n    province: 'Th√†nh ph·ªë H·ªì Ch√≠ Minh',\n    province_code: '0',\n    district: 'Huy·ªán C·ªß Chi',\n    district_code: '783',\n    ward: 'X√£ Ph·∫°m VƒÉn C·ªôi',\n    ward_code: '27514',\n    phone_number: '0976489588',\n    manager_name: 'Absa',\n    text: '',\n    normalizedAddress: ', X√£ Ph·∫°m VƒÉn C·ªôi, Huy·ªán C·ªß Chi, Th√†nh ph·ªë H·ªì Ch√≠ Minh'\n  }\n}","timestamp":"2021-08-03 22:33:58"}
{"service":"sumviet-apidevelopment","level":"info","message":"url /v2/shipping-order/fee {\n  shop_id: 80043,\n  from_district_id: 1460,\n  to_district_id: 1463,\n  weight: 60,\n  length: 18,\n  width: 3,\n  height: 90,\n  insurance_value: 3000000,\n  to_ward_code: '21808',\n  from_ward_code: '22107',\n  service_type_id: 2\n} {} { shop_id: 80043 }","timestamp":"2021-08-03 22:33:58"}
{"service":"sumviet-apidevelopment","body":{"payment_method":"COD","order":{"is_received_at_store":false}},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/checkout/ 200 9435 - 496.578 ms","timestamp":"2021-08-03 22:33:58"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949c6bd99e6a93fb2603","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821d","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Th√≠ch th√¨ KM","description":"Ngon, b·ªï, r·∫ª","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-03T22:37:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":2}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company/ 200 2822 - 41.955 ms","timestamp":"2021-08-03 22:36:06"}
{"message":"updateCompanyLimit","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-03 22:36:24"}
{"service":"sumviet-apidevelopment","body":{"promotion_id":"61096266d824fb2cd34c746c","status":"active"},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"PUT /api/s_/promotion/v2/company/status 200 2592 - 31.247 ms","timestamp":"2021-08-03 22:36:24"}
{"service":"sumviet-apidevelopment","level":"info","message":"update ProductStorings By Promotion Changes 5e747f036bd99e6a93faef55","timestamp":"2021-08-03 22:36:24"}
{"message":"get Max Company By Promotion Changes","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-03 22:36:26"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"5e74949c6bd99e6a93fb2604","company_id":"5e747f036bd99e6a93faef55","quantity":6,"model_id":"60a7f38411d36824a1b6821d"},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product/ 200 5432 - 99.888 ms","timestamp":"2021-08-03 22:38:03"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T15:40:00.000Z","timestamp":"2021-08-03 22:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 22:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 22:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 22:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 22:40:00"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"5e74949c6bd99e6a93fb2604","company_id":"5e747f036bd99e6a93faef55","quantity":6,"model_id":"60a7f38411d36824a1b6821d"},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product/ 200 5432 - 77.873 ms","timestamp":"2021-08-03 22:41:59"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949c6bd99e6a93fb2603","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821d","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Th√≠ch th√¨ KM","description":"Ngon, b·ªï, r·∫ª","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-03T22:50:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":2}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company/ 200 2822 - 54.968 ms","timestamp":"2021-08-03 22:49:08"}
{"message":"updateCompanyLimit","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-03 22:49:28"}
{"service":"sumviet-apidevelopment","body":{"promotion_id":"61096574d824fb2cd34c7962","status":"active"},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"PUT /api/s_/promotion/v2/company/status 200 2592 - 31.703 ms","timestamp":"2021-08-03 22:49:28"}
{"service":"sumviet-apidevelopment","level":"info","message":"update ProductStorings By Promotion Changes 5e747f036bd99e6a93faef55","timestamp":"2021-08-03 22:49:28"}
{"message":"get Max Company By Promotion Changes","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-03 22:49:30"}
{"service":"sumviet-apidevelopment","body":{},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"GET /api/s_/promotion/v2/company/61096574d824fb2cd34c7962 200 2735 - 32.693 ms","timestamp":"2021-08-03 22:49:50"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T15:50:00.000Z","timestamp":"2021-08-03 22:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 22:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 22:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 22:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 22:50:00"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"5e74949c6bd99e6a93fb2604","company_id":"5e747f036bd99e6a93faef55","quantity":6,"model_id":"60a7f38411d36824a1b6821d"},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product/ 200 5432 - 101.371 ms","timestamp":"2021-08-03 22:50:50"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T16:00:00.000Z","timestamp":"2021-08-03 23:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 23:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 23:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 23:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 23:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T16:10:00.000Z","timestamp":"2021-08-03 23:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 23:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 23:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 23:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 23:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T16:20:00.000Z","timestamp":"2021-08-03 23:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 23:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 23:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 23:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 23:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T16:30:00.000Z","timestamp":"2021-08-03 23:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 23:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 23:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 23:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 23:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T16:40:00.000Z","timestamp":"2021-08-03 23:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 23:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 23:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 23:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 23:40:00"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949c6bd99e6a93fb2603","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821d","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Th√≠ch th√¨ KM","description":"Ngon, b·ªï, r·∫ª","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-03T22:50:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":1}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company/ 200 2822 - 54.799 ms","timestamp":"2021-08-03 23:47:03"}
{"message":"updateCompanyLimit","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-03 23:47:30"}
{"service":"sumviet-apidevelopment","body":{"promotion_id":"61097307d824fb2cd34c8268","status":"active"},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"PUT /api/s_/promotion/v2/company/status 200 2592 - 25.993 ms","timestamp":"2021-08-03 23:47:30"}
{"service":"sumviet-apidevelopment","level":"info","message":"update ProductStorings By Promotion Changes 5e747f036bd99e6a93faef55","timestamp":"2021-08-03 23:47:30"}
{"message":"get Max Company By Promotion Changes","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-03 23:47:32"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"5e74949c6bd99e6a93fb2604","company_id":"5e747f036bd99e6a93faef55","quantity":6,"model_id":"60a7f38411d36824a1b6821d"},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product/ 200 5432 - 94.783 ms","timestamp":"2021-08-03 23:49:47"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-03T16:50:00.000Z","timestamp":"2021-08-03 23:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-03 23:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-03 23:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-03 23:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-03 23:50:00"}
{"isJoi":true,"name":"ValidationError","details":[{"message":"\"model_scope\" is required","path":["products",0,"model_scope"],"type":"any.required","context":{"key":"model_scope","label":"model_scope"}},{"message":"\"unlimited\" is not allowed","path":["products",0,"unlimited"],"type":"any.unknown","context":{"key":"unlimited","label":"unlimited"}},{"message":"\"start_at\" must be larger than or equal to \"Tue Aug 03 2021 20:19:26 GMT+0700 (Indochina Time)\"","path":["start_at"],"type":"date.min","context":{"limit":"2021-08-03T13:19:26.618Z","value":"2021-08-03T08:39:08.674Z","key":"start_at","label":"start_at"}}],"_object":{"promotion_id":"61097307d824fb2cd34c8268","product_scope":"partial","products":[{"product_id":"5e74949d6bd99e6a93fb262f","unlimited":true}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Th√≠ch th√¨ KM","description":"Ngon, b·ªï, r·∫ª","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-03T08:39:08.674Z","expire_at":"2021-08-15T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-03 23:52:10","message":"child \"products\" fails because [\"products\" at position 0 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]]]. child \"start_at\" fails because [\"start_at\" must be larger than or equal to \"Tue Aug 03 2021 20:19:26 GMT+0700 (Indochina Time)\"]","stack":"ValidationError: child \"products\" fails because [\"products\" at position 0 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]]]. child \"start_at\" fails because [\"start_at\" must be larger than or equal to \"Tue Aug 03 2021 20:19:26 GMT+0700 (Indochina Time)\"]\n    at Object.exports.process (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/errors.js:202:19)\n    at internals.Object._validateWithOptions (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/types/any/index.js:763:31)\n    at module.exports.internals.Any.validate (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/index.js:145:23)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:12:30\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"statusCode":400,"error":4000,"message":{"products":{"unlimited":"\"unlimited\" is not allowed"},"start_at":"\"start_at\" must be larger than or equal to \"Tue Aug 03 2021 20:19:26 GMT+0700 (Indochina Time)\""},"errors":{"products":{"0":{"unlimited":4000102}},"start_at":4000701},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-03 23:52:10","stack":"Error: [object Object]\n    at Object.getJoiError (/home/minhkha/Desktop/store/stht-server/src/commons/over_function/over.js:5:16)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:17:22\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"promotion_id":"61097307d824fb2cd34c8268","product_scope":"partial","products":[{"product_id":"5e74949d6bd99e6a93fb262f","unlimited":true}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Th√≠ch th√¨ KM","description":"Ngon, b·ªï, r·∫ª","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-03T08:39:08.674Z","expire_at":"2021-08-15T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"PUT /api/s_/promotion/v2/company/ 400 443 - 86.605 ms","timestamp":"2021-08-03 23:52:10"}
{"isJoi":true,"name":"ValidationError","details":[{"message":"\"model_scope\" is required","path":["products",0,"model_scope"],"type":"any.required","context":{"key":"model_scope","label":"model_scope"}},{"message":"\"unlimited\" is not allowed","path":["products",0,"unlimited"],"type":"any.unknown","context":{"key":"unlimited","label":"unlimited"}}],"_object":{"promotion_id":"61097307d824fb2cd34c8268","product_scope":"partial","products":[{"product_id":"5e74949d6bd99e6a93fb262f","unlimited":true}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Th√≠ch th√¨ KM","description":"Ngon, b·ªï, r·∫ª","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-03T23:55:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-03 23:53:40","message":"child \"products\" fails because [\"products\" at position 0 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]]]","stack":"ValidationError: child \"products\" fails because [\"products\" at position 0 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]]]\n    at Object.exports.process (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/errors.js:202:19)\n    at internals.Object._validateWithOptions (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/types/any/index.js:763:31)\n    at module.exports.internals.Any.validate (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/index.js:145:23)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:12:30\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"statusCode":400,"error":4000,"message":{"products":{"unlimited":"\"unlimited\" is not allowed"}},"errors":{"products":{"0":{"unlimited":4000102}}},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-03 23:53:40","stack":"Error: [object Object]\n    at Object.getJoiError (/home/minhkha/Desktop/store/stht-server/src/commons/over_function/over.js:5:16)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:17:22\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"promotion_id":"61097307d824fb2cd34c8268","product_scope":"partial","products":[{"product_id":"5e74949d6bd99e6a93fb262f","unlimited":true}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Th√≠ch th√¨ KM","description":"Ngon, b·ªï, r·∫ª","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-03T23:55:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"PUT /api/s_/promotion/v2/company/ 400 311 - 16.852 ms","timestamp":"2021-08-03 23:53:40"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949c6bd99e6a93fb2603","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821d","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Th√≠ch th√¨ KM","description":"Ngon, b·ªï, r·∫ª","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-03T23:56:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":1}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company/ 200 2822 - 51.444 ms","timestamp":"2021-08-03 23:54:15"}
{"message":"updateCompanyLimit","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-03 23:54:35"}
{"service":"sumviet-apidevelopment","body":{"promotion_id":"610974b7d824fb2cd34c86f0","status":"active"},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"PUT /api/s_/promotion/v2/company/status 200 2592 - 28.965 ms","timestamp":"2021-08-03 23:54:35"}
{"service":"sumviet-apidevelopment","level":"info","message":"update ProductStorings By Promotion Changes 5e747f036bd99e6a93faef55","timestamp":"2021-08-03 23:54:35"}
{"message":"get Max Company By Promotion Changes","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-03 23:54:36"}
