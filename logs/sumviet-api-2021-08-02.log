{"service":"sumviet-apidevelopment","level":"info","message":"url /master-data/district {} { province_id: 0 } {}","timestamp":"2021-08-02 08:33:31"}
{"service":"sumviet-apidevelopment","level":"info","message":"Env version 1","timestamp":"2021-08-02 08:33:54"}
{"message":"cronjob topup combo start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:33:54"}
{"message":"cronjob category has product start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:33:54"}
{"message":"cronjob update promotion start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:33:54"}
{"message":"cronjob add schedule start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:33:54"}
{"service":"sumviet-apidevelopment","level":"info","message":"Start Date, 2021-08-01T17:00:00.000Z","timestamp":"2021-08-02 08:33:54"}
{"message":"Lucky shopping initializing...","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:33:54"}
{"message":"elasticsearch cluster is down!","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:33:55"}
{"message":"Database Connected","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:33:55"}
{"message":"cronjob auto handling unlucky shopping start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:33:55"}
{"service":"sumviet-apidevelopment","level":"info","message":"auto handling for date 02-08-2021 starting ....","timestamp":"2021-08-02 08:33:55"}
{"service":"sumviet-apidevelopment","level":"info","message":"luckyShopping null","timestamp":"2021-08-02 08:33:56"}
{"message":"INIT CONFIGS SUCCESS","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:33:56"}
{"message":"districtList loaded","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:33:56"}
{"service":"sumviet-apidevelopment","level":"info","message":"url /master-data/ward { district_id: -1 } {} {}","timestamp":"2021-08-02 08:33:56"}
{"message":"wardList loaded","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:33:59"}
{"isJoi":true,"name":"ValidationError","details":[{"message":"\"model_scope\" is required","path":["products",0,"model_scope"],"type":"any.required","context":{"key":"model_scope","label":"model_scope"}},{"message":"\"unlimited\" is not allowed","path":["products",0,"unlimited"],"type":"any.unknown","context":{"key":"unlimited","label":"unlimited"}},{"message":"\"model_scope\" is required","path":["products",1,"model_scope"],"type":"any.required","context":{"key":"model_scope","label":"model_scope"}},{"message":"\"unlimited\" is not allowed","path":["products",1,"unlimited"],"type":"any.unknown","context":{"key":"unlimited","label":"unlimited"}},{"message":"\"store_id\" is required","path":["store_id"],"type":"any.required","context":{"key":"store_id","label":"store_id"}},{"message":"\"store_scope\" is not allowed","path":["store_scope"],"type":"object.allowUnknown","context":{"child":"store_scope","value":"partial","key":"store_scope","label":"store_scope"}},{"message":"\"store_ids\" is not allowed","path":["store_ids"],"type":"object.allowUnknown","context":{"child":"store_ids","value":"5e74812c6bd99e6a93faf8dd","key":"store_ids","label":"store_ids"}}],"_object":{"product_scope":"partial","products":[{"product_id":"5e74949d6bd99e6a93fb262f","unlimited":false,"total":10,"model_list":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","unlimited":false,"total":10,"model_list":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"partial","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:34:26","message":"child \"products\" fails because [\"products\" at position 0 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]], \"products\" at position 1 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]]]. child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed","stack":"ValidationError: child \"products\" fails because [\"products\" at position 0 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]], \"products\" at position 1 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]]]. child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed\n    at Object.exports.process (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/errors.js:202:19)\n    at internals.Object._validateWithOptions (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/types/any/index.js:763:31)\n    at module.exports.internals.Any.validate (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/index.js:145:23)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:12:30\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"statusCode":400,"error":4000,"message":{"products":{"unlimited":"\"unlimited\" is not allowed"},"store_id":"\"store_id\" is required","store_scope":"\"store_scope\" is not allowed","store_ids":"\"store_ids\" is not allowed"},"errors":{"products":{"0":{"unlimited":4000102},"1":{"unlimited":4000102}},"store_id":4000100,"store_scope":4000500,"store_ids":4000500},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:34:26","stack":"Error: [object Object]\n    at Object.getJoiError (/home/minhkha/Desktop/store/stht-server/src/commons/over_function/over.js:5:16)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:17:22\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949d6bd99e6a93fb262f","unlimited":false,"total":10,"model_list":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","unlimited":false,"total":10,"model_list":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"partial","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 400 526 - 91.811 ms","timestamp":"2021-08-02 08:34:26"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T01:40:00.000Z","timestamp":"2021-08-02 08:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 08:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 08:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 08:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 08:40:00"}
{"isJoi":true,"name":"ValidationError","details":[{"message":"\"unlimit\" is not allowed","path":["unlimit"],"type":"any.unknown","context":{"key":"unlimit","label":"unlimit"}},{"message":"\"model_scope\" is required","path":["products",0,"model_scope"],"type":"any.required","context":{"key":"model_scope","label":"model_scope"}},{"message":"\"unlimited\" is not allowed","path":["products",0,"unlimited"],"type":"any.unknown","context":{"key":"unlimited","label":"unlimited"}},{"message":"\"model_scope\" is required","path":["products",1,"model_scope"],"type":"any.required","context":{"key":"model_scope","label":"model_scope"}},{"message":"\"unlimited\" is not allowed","path":["products",1,"unlimited"],"type":"any.unknown","context":{"key":"unlimited","label":"unlimited"}},{"message":"\"store_id\" is required","path":["store_id"],"type":"any.required","context":{"key":"store_id","label":"store_id"}},{"message":"\"store_scope\" is not allowed","path":["store_scope"],"type":"object.allowUnknown","context":{"child":"store_scope","value":"partial","key":"store_scope","label":"store_scope"}},{"message":"\"store_ids\" is not allowed","path":["store_ids"],"type":"object.allowUnknown","context":{"child":"store_ids","value":"5e74812c6bd99e6a93faf8dd","key":"store_ids","label":"store_ids"}}],"_object":{"product_scope":"partial","unlimit":true,"products":[{"product_id":"5e74949d6bd99e6a93fb262f","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"partial","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:41:10","message":"child \"unlimit\" fails because [\"unlimit\" is not allowed]. child \"products\" fails because [\"products\" at position 0 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]], \"products\" at position 1 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]]]. child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed","stack":"ValidationError: child \"unlimit\" fails because [\"unlimit\" is not allowed]. child \"products\" fails because [\"products\" at position 0 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]], \"products\" at position 1 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]]]. child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed\n    at Object.exports.process (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/errors.js:202:19)\n    at internals.Object._validateWithOptions (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/types/any/index.js:763:31)\n    at module.exports.internals.Any.validate (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/index.js:145:23)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:12:30\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"statusCode":400,"error":4000,"message":{"unlimit":"\"unlimit\" is not allowed","products":{"unlimited":"\"unlimited\" is not allowed"},"store_id":"\"store_id\" is required","store_scope":"\"store_scope\" is not allowed","store_ids":"\"store_ids\" is not allowed"},"errors":{"unlimit":4000102,"products":{"0":{"unlimited":4000102},"1":{"unlimited":4000102}},"store_id":4000100,"store_scope":4000500,"store_ids":4000500},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:41:10","stack":"Error: [object Object]\n    at Object.getJoiError (/home/minhkha/Desktop/store/stht-server/src/commons/over_function/over.js:5:16)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:17:22\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","unlimit":true,"products":[{"product_id":"5e74949d6bd99e6a93fb262f","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"partial","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 400 583 - 29.023 ms","timestamp":"2021-08-02 08:41:10"}
{"isJoi":true,"name":"ValidationError","details":[{"message":"\"unlimit\" is not allowed","path":["unlimit"],"type":"any.unknown","context":{"key":"unlimit","label":"unlimit"}},{"message":"\"model_scope\" is required","path":["products",0,"model_scope"],"type":"any.required","context":{"key":"model_scope","label":"model_scope"}},{"message":"\"unlimited\" is not allowed","path":["products",0,"unlimited"],"type":"any.unknown","context":{"key":"unlimited","label":"unlimited"}},{"message":"\"model_scope\" is required","path":["products",1,"model_scope"],"type":"any.required","context":{"key":"model_scope","label":"model_scope"}},{"message":"\"unlimited\" is not allowed","path":["products",1,"unlimited"],"type":"any.unknown","context":{"key":"unlimited","label":"unlimited"}},{"message":"\"store_id\" is required","path":["store_id"],"type":"any.required","context":{"key":"store_id","label":"store_id"}},{"message":"\"store_scope\" is not allowed","path":["store_scope"],"type":"object.allowUnknown","context":{"child":"store_scope","value":"partial","key":"store_scope","label":"store_scope"}},{"message":"\"store_ids\" is not allowed","path":["store_ids"],"type":"object.allowUnknown","context":{"child":"store_ids","value":"5e74812c6bd99e6a93faf8dd","key":"store_ids","label":"store_ids"}}],"_object":{"product_scope":"partial","unlimit":true,"products":[{"product_id":"5e74949d6bd99e6a93fb262f","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"partial","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:41:47","message":"child \"unlimit\" fails because [\"unlimit\" is not allowed]. child \"products\" fails because [\"products\" at position 0 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]], \"products\" at position 1 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]]]. child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed","stack":"ValidationError: child \"unlimit\" fails because [\"unlimit\" is not allowed]. child \"products\" fails because [\"products\" at position 0 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]], \"products\" at position 1 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]]]. child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed\n    at Object.exports.process (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/errors.js:202:19)\n    at internals.Object._validateWithOptions (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/types/any/index.js:763:31)\n    at module.exports.internals.Any.validate (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/index.js:145:23)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:12:30\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"statusCode":400,"error":4000,"message":{"unlimit":"\"unlimit\" is not allowed","products":{"unlimited":"\"unlimited\" is not allowed"},"store_id":"\"store_id\" is required","store_scope":"\"store_scope\" is not allowed","store_ids":"\"store_ids\" is not allowed"},"errors":{"unlimit":4000102,"products":{"0":{"unlimited":4000102},"1":{"unlimited":4000102}},"store_id":4000100,"store_scope":4000500,"store_ids":4000500},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:41:47","stack":"Error: [object Object]\n    at Object.getJoiError (/home/minhkha/Desktop/store/stht-server/src/commons/over_function/over.js:5:16)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:17:22\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","unlimit":true,"products":[{"product_id":"5e74949d6bd99e6a93fb262f","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"partial","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 400 583 - 26.131 ms","timestamp":"2021-08-02 08:41:47"}
{"isJoi":true,"name":"ValidationError","details":[{"message":"\"unlimit\" is not allowed","path":["unlimit"],"type":"any.unknown","context":{"key":"unlimit","label":"unlimit"}},{"message":"\"model_scope\" is required","path":["products",0,"model_scope"],"type":"any.required","context":{"key":"model_scope","label":"model_scope"}},{"message":"\"unlimited\" is not allowed","path":["products",0,"unlimited"],"type":"any.unknown","context":{"key":"unlimited","label":"unlimited"}},{"message":"\"model_scope\" is required","path":["products",1,"model_scope"],"type":"any.required","context":{"key":"model_scope","label":"model_scope"}},{"message":"\"unlimited\" is not allowed","path":["products",1,"unlimited"],"type":"any.unknown","context":{"key":"unlimited","label":"unlimited"}},{"message":"\"store_id\" is required","path":["store_id"],"type":"any.required","context":{"key":"store_id","label":"store_id"}},{"message":"\"store_scope\" is not allowed","path":["store_scope"],"type":"object.allowUnknown","context":{"child":"store_scope","value":"partial","key":"store_scope","label":"store_scope"}},{"message":"\"store_ids\" is not allowed","path":["store_ids"],"type":"object.allowUnknown","context":{"child":"store_ids","value":"5e74812c6bd99e6a93faf8dd","key":"store_ids","label":"store_ids"}}],"_object":{"product_scope":"partial","unlimit":"true","products":[{"product_id":"5e74949d6bd99e6a93fb262f","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"partial","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:43:03","message":"child \"unlimit\" fails because [\"unlimit\" is not allowed]. child \"products\" fails because [\"products\" at position 0 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]], \"products\" at position 1 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]]]. child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed","stack":"ValidationError: child \"unlimit\" fails because [\"unlimit\" is not allowed]. child \"products\" fails because [\"products\" at position 0 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]], \"products\" at position 1 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]]]. child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed\n    at Object.exports.process (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/errors.js:202:19)\n    at internals.Object._validateWithOptions (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/types/any/index.js:763:31)\n    at module.exports.internals.Any.validate (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/index.js:145:23)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:12:30\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"statusCode":400,"error":4000,"message":{"unlimit":"\"unlimit\" is not allowed","products":{"unlimited":"\"unlimited\" is not allowed"},"store_id":"\"store_id\" is required","store_scope":"\"store_scope\" is not allowed","store_ids":"\"store_ids\" is not allowed"},"errors":{"unlimit":4000102,"products":{"0":{"unlimited":4000102},"1":{"unlimited":4000102}},"store_id":4000100,"store_scope":4000500,"store_ids":4000500},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:43:03","stack":"Error: [object Object]\n    at Object.getJoiError (/home/minhkha/Desktop/store/stht-server/src/commons/over_function/over.js:5:16)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:17:22\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","unlimit":"true","products":[{"product_id":"5e74949d6bd99e6a93fb262f","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"partial","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 400 583 - 26.072 ms","timestamp":"2021-08-02 08:43:03"}
{"isJoi":true,"name":"ValidationError","details":[{"message":"\"unlimit\" is not allowed","path":["unlimit"],"type":"any.unknown","context":{"key":"unlimit","label":"unlimit"}},{"message":"\"model_scope\" is required","path":["products",0,"model_scope"],"type":"any.required","context":{"key":"model_scope","label":"model_scope"}},{"message":"\"unlimited\" is not allowed","path":["products",0,"unlimited"],"type":"any.unknown","context":{"key":"unlimited","label":"unlimited"}},{"message":"\"model_scope\" is required","path":["products",1,"model_scope"],"type":"any.required","context":{"key":"model_scope","label":"model_scope"}},{"message":"\"unlimited\" is not allowed","path":["products",1,"unlimited"],"type":"any.unknown","context":{"key":"unlimited","label":"unlimited"}},{"message":"\"total\" is required","path":["total"],"type":"any.required","context":{"key":"total","label":"total"}},{"message":"\"store_id\" is required","path":["store_id"],"type":"any.required","context":{"key":"store_id","label":"store_id"}},{"message":"\"store_scope\" is not allowed","path":["store_scope"],"type":"object.allowUnknown","context":{"child":"store_scope","value":"partial","key":"store_scope","label":"store_scope"}},{"message":"\"store_ids\" is not allowed","path":["store_ids"],"type":"object.allowUnknown","context":{"child":"store_ids","value":"5e74812c6bd99e6a93faf8dd","key":"store_ids","label":"store_ids"}}],"_object":{"product_scope":"partial","unlimit":false,"products":[{"product_id":"5e74949d6bd99e6a93fb262f","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"partial","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:43:15","message":"child \"unlimit\" fails because [\"unlimit\" is not allowed]. child \"products\" fails because [\"products\" at position 0 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]], \"products\" at position 1 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]]]. child \"total\" fails because [\"total\" is required]. child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed","stack":"ValidationError: child \"unlimit\" fails because [\"unlimit\" is not allowed]. child \"products\" fails because [\"products\" at position 0 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]], \"products\" at position 1 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]]]. child \"total\" fails because [\"total\" is required]. child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed\n    at Object.exports.process (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/errors.js:202:19)\n    at internals.Object._validateWithOptions (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/types/any/index.js:763:31)\n    at module.exports.internals.Any.validate (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/index.js:145:23)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:12:30\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"statusCode":400,"error":4000,"message":{"unlimit":"\"unlimit\" is not allowed","products":{"unlimited":"\"unlimited\" is not allowed"},"total":"\"total\" is required","store_id":"\"store_id\" is required","store_scope":"\"store_scope\" is not allowed","store_ids":"\"store_ids\" is not allowed"},"errors":{"unlimit":4000102,"products":{"0":{"unlimited":4000102},"1":{"unlimited":4000102}},"total":4000100,"store_id":4000100,"store_scope":4000500,"store_ids":4000500},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:43:15","stack":"Error: [object Object]\n    at Object.getJoiError (/home/minhkha/Desktop/store/stht-server/src/commons/over_function/over.js:5:16)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:17:22\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","unlimit":false,"products":[{"product_id":"5e74949d6bd99e6a93fb262f","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"partial","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 400 631 - 28.993 ms","timestamp":"2021-08-02 08:43:15"}
{"isJoi":true,"name":"ValidationError","details":[{"message":"\"unlimit\" is not allowed","path":["unlimit"],"type":"any.unknown","context":{"key":"unlimit","label":"unlimit"}},{"message":"\"model_scope\" is required","path":["products",0,"model_scope"],"type":"any.required","context":{"key":"model_scope","label":"model_scope"}},{"message":"\"unlimited\" is not allowed","path":["products",0,"unlimited"],"type":"any.unknown","context":{"key":"unlimited","label":"unlimited"}},{"message":"\"model_scope\" is required","path":["products",1,"model_scope"],"type":"any.required","context":{"key":"model_scope","label":"model_scope"}},{"message":"\"unlimited\" is not allowed","path":["products",1,"unlimited"],"type":"any.unknown","context":{"key":"unlimited","label":"unlimited"}},{"message":"\"total\" is required","path":["total"],"type":"any.required","context":{"key":"total","label":"total"}},{"message":"\"store_id\" is required","path":["store_id"],"type":"any.required","context":{"key":"store_id","label":"store_id"}},{"message":"\"store_scope\" is not allowed","path":["store_scope"],"type":"object.allowUnknown","context":{"child":"store_scope","value":"partial","key":"store_scope","label":"store_scope"}},{"message":"\"store_ids\" is not allowed","path":["store_ids"],"type":"object.allowUnknown","context":{"child":"store_ids","value":"5e74812c6bd99e6a93faf8dd","key":"store_ids","label":"store_ids"}}],"_object":{"product_scope":"partial","unlimit":false,"products":[{"product_id":"5e74949d6bd99e6a93fb262f","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"partial","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:43:16","message":"child \"unlimit\" fails because [\"unlimit\" is not allowed]. child \"products\" fails because [\"products\" at position 0 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]], \"products\" at position 1 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]]]. child \"total\" fails because [\"total\" is required]. child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed","stack":"ValidationError: child \"unlimit\" fails because [\"unlimit\" is not allowed]. child \"products\" fails because [\"products\" at position 0 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]], \"products\" at position 1 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]]]. child \"total\" fails because [\"total\" is required]. child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed\n    at Object.exports.process (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/errors.js:202:19)\n    at internals.Object._validateWithOptions (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/types/any/index.js:763:31)\n    at module.exports.internals.Any.validate (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/index.js:145:23)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:12:30\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"statusCode":400,"error":4000,"message":{"unlimit":"\"unlimit\" is not allowed","products":{"unlimited":"\"unlimited\" is not allowed"},"total":"\"total\" is required","store_id":"\"store_id\" is required","store_scope":"\"store_scope\" is not allowed","store_ids":"\"store_ids\" is not allowed"},"errors":{"unlimit":4000102,"products":{"0":{"unlimited":4000102},"1":{"unlimited":4000102}},"total":4000100,"store_id":4000100,"store_scope":4000500,"store_ids":4000500},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:43:16","stack":"Error: [object Object]\n    at Object.getJoiError (/home/minhkha/Desktop/store/stht-server/src/commons/over_function/over.js:5:16)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:17:22\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","unlimit":false,"products":[{"product_id":"5e74949d6bd99e6a93fb262f","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"partial","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 400 631 - 18.371 ms","timestamp":"2021-08-02 08:43:16"}
{"isJoi":true,"name":"ValidationError","details":[{"message":"\"unlimit\" is not allowed","path":["unlimit"],"type":"any.unknown","context":{"key":"unlimit","label":"unlimit"}},{"message":"\"unlimited\" is not allowed","path":["products",0,"unlimited"],"type":"any.unknown","context":{"key":"unlimited","label":"unlimited"}},{"message":"\"model_scope\" is required","path":["products",1,"model_scope"],"type":"any.required","context":{"key":"model_scope","label":"model_scope"}},{"message":"\"unlimited\" is not allowed","path":["products",1,"unlimited"],"type":"any.unknown","context":{"key":"unlimited","label":"unlimited"}},{"message":"\"total\" is required","path":["total"],"type":"any.required","context":{"key":"total","label":"total"}},{"message":"\"store_id\" is required","path":["store_id"],"type":"any.required","context":{"key":"store_id","label":"store_id"}},{"message":"\"store_scope\" is not allowed","path":["store_scope"],"type":"object.allowUnknown","context":{"child":"store_scope","value":"partial","key":"store_scope","label":"store_scope"}},{"message":"\"store_ids\" is not allowed","path":["store_ids"],"type":"object.allowUnknown","context":{"child":"store_ids","value":"5e74812c6bd99e6a93faf8dd","key":"store_ids","label":"store_ids"}}],"_object":{"product_scope":"partial","unlimit":false,"products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"partial","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:46:30","message":"child \"unlimit\" fails because [\"unlimit\" is not allowed]. child \"products\" fails because [\"products\" at position 0 fails because [child \"unlimited\" fails because [\"unlimited\" is not allowed]], \"products\" at position 1 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]]]. child \"total\" fails because [\"total\" is required]. child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed","stack":"ValidationError: child \"unlimit\" fails because [\"unlimit\" is not allowed]. child \"products\" fails because [\"products\" at position 0 fails because [child \"unlimited\" fails because [\"unlimited\" is not allowed]], \"products\" at position 1 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]]]. child \"total\" fails because [\"total\" is required]. child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed\n    at Object.exports.process (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/errors.js:202:19)\n    at internals.Object._validateWithOptions (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/types/any/index.js:763:31)\n    at module.exports.internals.Any.validate (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/index.js:145:23)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:12:30\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"statusCode":400,"error":4000,"message":{"unlimit":"\"unlimit\" is not allowed","products":{"unlimited":"\"unlimited\" is not allowed"},"total":"\"total\" is required","store_id":"\"store_id\" is required","store_scope":"\"store_scope\" is not allowed","store_ids":"\"store_ids\" is not allowed"},"errors":{"unlimit":4000102,"products":{"0":{"unlimited":4000102},"1":{"unlimited":4000102}},"total":4000100,"store_id":4000100,"store_scope":4000500,"store_ids":4000500},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:46:30","stack":"Error: [object Object]\n    at Object.getJoiError (/home/minhkha/Desktop/store/stht-server/src/commons/over_function/over.js:5:16)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:17:22\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","unlimit":false,"products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"partial","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 400 631 - 17.797 ms","timestamp":"2021-08-02 08:46:30"}
{"isJoi":true,"name":"ValidationError","details":[{"message":"\"unlimited\" is not allowed","path":["products",0,"unlimited"],"type":"any.unknown","context":{"key":"unlimited","label":"unlimited"}},{"message":"\"model_scope\" is required","path":["products",1,"model_scope"],"type":"any.required","context":{"key":"model_scope","label":"model_scope"}},{"message":"\"unlimited\" is not allowed","path":["products",1,"unlimited"],"type":"any.unknown","context":{"key":"unlimited","label":"unlimited"}},{"message":"\"store_id\" is required","path":["store_id"],"type":"any.required","context":{"key":"store_id","label":"store_id"}},{"message":"\"store_scope\" is not allowed","path":["store_scope"],"type":"object.allowUnknown","context":{"child":"store_scope","value":"partial","key":"store_scope","label":"store_scope"}},{"message":"\"store_ids\" is not allowed","path":["store_ids"],"type":"object.allowUnknown","context":{"child":"store_ids","value":"5e74812c6bd99e6a93faf8dd","key":"store_ids","label":"store_ids"}}],"_object":{"product_scope":"partial","products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"partial","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:46:43","message":"child \"products\" fails because [\"products\" at position 0 fails because [child \"unlimited\" fails because [\"unlimited\" is not allowed]], \"products\" at position 1 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]]]. child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed","stack":"ValidationError: child \"products\" fails because [\"products\" at position 0 fails because [child \"unlimited\" fails because [\"unlimited\" is not allowed]], \"products\" at position 1 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]]]. child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed\n    at Object.exports.process (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/errors.js:202:19)\n    at internals.Object._validateWithOptions (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/types/any/index.js:763:31)\n    at module.exports.internals.Any.validate (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/index.js:145:23)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:12:30\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"statusCode":400,"error":4000,"message":{"products":{"unlimited":"\"unlimited\" is not allowed"},"store_id":"\"store_id\" is required","store_scope":"\"store_scope\" is not allowed","store_ids":"\"store_ids\" is not allowed"},"errors":{"products":{"0":{"unlimited":4000102},"1":{"unlimited":4000102}},"store_id":4000100,"store_scope":4000500,"store_ids":4000500},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:46:43","stack":"Error: [object Object]\n    at Object.getJoiError (/home/minhkha/Desktop/store/stht-server/src/commons/over_function/over.js:5:16)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:17:22\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"partial","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 400 526 - 15.031 ms","timestamp":"2021-08-02 08:46:43"}
{"isJoi":true,"name":"ValidationError","details":[{"message":"\"unlimited\" is required","path":["products",0,"models",0,"unlimited"],"type":"any.required","context":{"key":"unlimited","label":"unlimited"}},{"message":"\"total\" is not allowed","path":["products",0,"models",0,"total"],"type":"any.unknown","context":{"key":"total","label":"total"}},{"message":"\"unlimited\" is not allowed","path":["products",0,"unlimited"],"type":"any.unknown","context":{"key":"unlimited","label":"unlimited"}},{"message":"\"model_scope\" is required","path":["products",1,"model_scope"],"type":"any.required","context":{"key":"model_scope","label":"model_scope"}},{"message":"\"unlimited\" is not allowed","path":["products",1,"unlimited"],"type":"any.unknown","context":{"key":"unlimited","label":"unlimited"}},{"message":"\"store_id\" is required","path":["store_id"],"type":"any.required","context":{"key":"store_id","label":"store_id"}},{"message":"\"store_scope\" is not allowed","path":["store_scope"],"type":"object.allowUnknown","context":{"child":"store_scope","value":"partial","key":"store_scope","label":"store_scope"}},{"message":"\"store_ids\" is not allowed","path":["store_ids"],"type":"object.allowUnknown","context":{"child":"store_ids","value":"5e74812c6bd99e6a93faf8dd","key":"store_ids","label":"store_ids"}}],"_object":{"product_scope":"partial","products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"partial","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:48:02","message":"child \"products\" fails because [\"products\" at position 0 fails because [child \"models\" fails because [\"models\" at position 0 fails because [child \"unlimited\" fails because [\"unlimited\" is required], child \"total\" fails because [\"total\" is not allowed]]], child \"unlimited\" fails because [\"unlimited\" is not allowed]], \"products\" at position 1 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]]]. child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed","stack":"ValidationError: child \"products\" fails because [\"products\" at position 0 fails because [child \"models\" fails because [\"models\" at position 0 fails because [child \"unlimited\" fails because [\"unlimited\" is required], child \"total\" fails because [\"total\" is not allowed]]], child \"unlimited\" fails because [\"unlimited\" is not allowed]], \"products\" at position 1 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]]]. child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed\n    at Object.exports.process (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/errors.js:202:19)\n    at internals.Object._validateWithOptions (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/types/any/index.js:763:31)\n    at module.exports.internals.Any.validate (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/index.js:145:23)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:12:30\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"statusCode":400,"error":4000,"message":{"unlimited":"\"unlimited\" is required","total":"\"total\" is not allowed","products":{"unlimited":"\"unlimited\" is not allowed"},"store_id":"\"store_id\" is required","store_scope":"\"store_scope\" is not allowed","store_ids":"\"store_ids\" is not allowed"},"errors":{"unlimited":4000100,"total":4000102,"products":{"0":{"unlimited":4000102},"1":{"unlimited":4000102}},"store_id":4000100,"store_scope":4000500,"store_ids":4000500},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:48:02","stack":"Error: [object Object]\n    at Object.getJoiError (/home/minhkha/Desktop/store/stht-server/src/commons/over_function/over.js:5:16)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:17:22\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"partial","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 400 637 - 19.957 ms","timestamp":"2021-08-02 08:48:02"}
{"isJoi":true,"name":"ValidationError","details":[{"message":"\"unlimited\" is not allowed","path":["products",0,"unlimited"],"type":"any.unknown","context":{"key":"unlimited","label":"unlimited"}},{"message":"\"model_scope\" is required","path":["products",1,"model_scope"],"type":"any.required","context":{"key":"model_scope","label":"model_scope"}},{"message":"\"unlimited\" is not allowed","path":["products",1,"unlimited"],"type":"any.unknown","context":{"key":"unlimited","label":"unlimited"}},{"message":"\"store_id\" is required","path":["store_id"],"type":"any.required","context":{"key":"store_id","label":"store_id"}},{"message":"\"store_scope\" is not allowed","path":["store_scope"],"type":"object.allowUnknown","context":{"child":"store_scope","value":"partial","key":"store_scope","label":"store_scope"}},{"message":"\"store_ids\" is not allowed","path":["store_ids"],"type":"object.allowUnknown","context":{"child":"store_ids","value":"5e74812c6bd99e6a93faf8dd","key":"store_ids","label":"store_ids"}}],"_object":{"product_scope":"partial","products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"partial","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:48:16","message":"child \"products\" fails because [\"products\" at position 0 fails because [child \"unlimited\" fails because [\"unlimited\" is not allowed]], \"products\" at position 1 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]]]. child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed","stack":"ValidationError: child \"products\" fails because [\"products\" at position 0 fails because [child \"unlimited\" fails because [\"unlimited\" is not allowed]], \"products\" at position 1 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]]]. child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed\n    at Object.exports.process (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/errors.js:202:19)\n    at internals.Object._validateWithOptions (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/types/any/index.js:763:31)\n    at module.exports.internals.Any.validate (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/index.js:145:23)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:12:30\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"statusCode":400,"error":4000,"message":{"products":{"unlimited":"\"unlimited\" is not allowed"},"store_id":"\"store_id\" is required","store_scope":"\"store_scope\" is not allowed","store_ids":"\"store_ids\" is not allowed"},"errors":{"products":{"0":{"unlimited":4000102},"1":{"unlimited":4000102}},"store_id":4000100,"store_scope":4000500,"store_ids":4000500},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:48:16","stack":"Error: [object Object]\n    at Object.getJoiError (/home/minhkha/Desktop/store/stht-server/src/commons/over_function/over.js:5:16)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:17:22\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"partial","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 400 526 - 21.537 ms","timestamp":"2021-08-02 08:48:16"}
{"isJoi":true,"name":"ValidationError","details":[{"message":"\"total\" is not allowed","path":["products",0,"total"],"type":"any.unknown","context":{"key":"total","label":"total"}},{"message":"\"model_scope\" is required","path":["products",1,"model_scope"],"type":"any.required","context":{"key":"model_scope","label":"model_scope"}},{"message":"\"unlimited\" is not allowed","path":["products",1,"unlimited"],"type":"any.unknown","context":{"key":"unlimited","label":"unlimited"}},{"message":"\"store_id\" is required","path":["store_id"],"type":"any.required","context":{"key":"store_id","label":"store_id"}},{"message":"\"store_scope\" is not allowed","path":["store_scope"],"type":"object.allowUnknown","context":{"child":"store_scope","value":"partial","key":"store_scope","label":"store_scope"}},{"message":"\"store_ids\" is not allowed","path":["store_ids"],"type":"object.allowUnknown","context":{"child":"store_ids","value":"5e74812c6bd99e6a93faf8dd","key":"store_ids","label":"store_ids"}}],"_object":{"product_scope":"partial","products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"partial","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:48:27","message":"child \"products\" fails because [\"products\" at position 0 fails because [child \"total\" fails because [\"total\" is not allowed]], \"products\" at position 1 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]]]. child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed","stack":"ValidationError: child \"products\" fails because [\"products\" at position 0 fails because [child \"total\" fails because [\"total\" is not allowed]], \"products\" at position 1 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"unlimited\" fails because [\"unlimited\" is not allowed]]]. child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed\n    at Object.exports.process (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/errors.js:202:19)\n    at internals.Object._validateWithOptions (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/types/any/index.js:763:31)\n    at module.exports.internals.Any.validate (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/index.js:145:23)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:12:30\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"statusCode":400,"error":4000,"message":{"products":{"unlimited":"\"unlimited\" is not allowed"},"store_id":"\"store_id\" is required","store_scope":"\"store_scope\" is not allowed","store_ids":"\"store_ids\" is not allowed"},"errors":{"products":{"0":{"total":4000102},"1":{"unlimited":4000102}},"store_id":4000100,"store_scope":4000500,"store_ids":4000500},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:48:27","stack":"Error: [object Object]\n    at Object.getJoiError (/home/minhkha/Desktop/store/stht-server/src/commons/over_function/over.js:5:16)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:17:22\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","unlimited":false,"total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"partial","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 400 522 - 22.694 ms","timestamp":"2021-08-02 08:48:27"}
{"isJoi":true,"name":"ValidationError","details":[{"message":"\"total\" is not allowed","path":["products",0,"total"],"type":"any.unknown","context":{"key":"total","label":"total"}},{"message":"\"model_scope\" is required","path":["products",1,"model_scope"],"type":"any.required","context":{"key":"model_scope","label":"model_scope"}},{"message":"\"total\" is not allowed","path":["products",1,"total"],"type":"any.unknown","context":{"key":"total","label":"total"}},{"message":"\"store_id\" is required","path":["store_id"],"type":"any.required","context":{"key":"store_id","label":"store_id"}},{"message":"\"store_scope\" is not allowed","path":["store_scope"],"type":"object.allowUnknown","context":{"child":"store_scope","value":"partial","key":"store_scope","label":"store_scope"}},{"message":"\"store_ids\" is not allowed","path":["store_ids"],"type":"object.allowUnknown","context":{"child":"store_ids","value":"5e74812c6bd99e6a93faf8dd","key":"store_ids","label":"store_ids"}}],"_object":{"product_scope":"partial","products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"partial","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:48:40","message":"child \"products\" fails because [\"products\" at position 0 fails because [child \"total\" fails because [\"total\" is not allowed]], \"products\" at position 1 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"total\" fails because [\"total\" is not allowed]]]. child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed","stack":"ValidationError: child \"products\" fails because [\"products\" at position 0 fails because [child \"total\" fails because [\"total\" is not allowed]], \"products\" at position 1 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"total\" fails because [\"total\" is not allowed]]]. child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed\n    at Object.exports.process (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/errors.js:202:19)\n    at internals.Object._validateWithOptions (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/types/any/index.js:763:31)\n    at module.exports.internals.Any.validate (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/index.js:145:23)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:12:30\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"statusCode":400,"error":4000,"message":{"products":{"total":"\"total\" is not allowed"},"store_id":"\"store_id\" is required","store_scope":"\"store_scope\" is not allowed","store_ids":"\"store_ids\" is not allowed"},"errors":{"products":{"0":{"total":4000102},"1":{"total":4000102}},"store_id":4000100,"store_scope":4000500,"store_ids":4000500},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:48:40","stack":"Error: [object Object]\n    at Object.getJoiError (/home/minhkha/Desktop/store/stht-server/src/commons/over_function/over.js:5:16)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:17:22\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"partial","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 400 510 - 15.133 ms","timestamp":"2021-08-02 08:48:40"}
{"isJoi":true,"name":"ValidationError","details":[{"message":"\"model_scope\" is required","path":["products",1,"model_scope"],"type":"any.required","context":{"key":"model_scope","label":"model_scope"}},{"message":"\"total\" is not allowed","path":["products",1,"total"],"type":"any.unknown","context":{"key":"total","label":"total"}},{"message":"\"store_id\" is required","path":["store_id"],"type":"any.required","context":{"key":"store_id","label":"store_id"}},{"message":"\"store_scope\" is not allowed","path":["store_scope"],"type":"object.allowUnknown","context":{"child":"store_scope","value":"partial","key":"store_scope","label":"store_scope"}},{"message":"\"store_ids\" is not allowed","path":["store_ids"],"type":"object.allowUnknown","context":{"child":"store_ids","value":"5e74812c6bd99e6a93faf8dd","key":"store_ids","label":"store_ids"}}],"_object":{"product_scope":"partial","products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"partial","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:48:48","message":"child \"products\" fails because [\"products\" at position 1 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"total\" fails because [\"total\" is not allowed]]]. child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed","stack":"ValidationError: child \"products\" fails because [\"products\" at position 1 fails because [child \"model_scope\" fails because [\"model_scope\" is required], child \"total\" fails because [\"total\" is not allowed]]]. child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed\n    at Object.exports.process (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/errors.js:202:19)\n    at internals.Object._validateWithOptions (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/types/any/index.js:763:31)\n    at module.exports.internals.Any.validate (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/index.js:145:23)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:12:30\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"statusCode":400,"error":4000,"message":{"products":{"total":"\"total\" is not allowed"},"store_id":"\"store_id\" is required","store_scope":"\"store_scope\" is not allowed","store_ids":"\"store_ids\" is not allowed"},"errors":{"products":{"1":{"total":4000102}},"store_id":4000100,"store_scope":4000500,"store_ids":4000500},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:48:48","stack":"Error: [object Object]\n    at Object.getJoiError (/home/minhkha/Desktop/store/stht-server/src/commons/over_function/over.js:5:16)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:17:22\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","total":10,"models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"partial","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 400 488 - 26.347 ms","timestamp":"2021-08-02 08:48:48"}
{"isJoi":true,"name":"ValidationError","details":[{"message":"\"model_scope\" is required","path":["products",1,"model_scope"],"type":"any.required","context":{"key":"model_scope","label":"model_scope"}},{"message":"\"store_id\" is required","path":["store_id"],"type":"any.required","context":{"key":"store_id","label":"store_id"}},{"message":"\"store_scope\" is not allowed","path":["store_scope"],"type":"object.allowUnknown","context":{"child":"store_scope","value":"partial","key":"store_scope","label":"store_scope"}},{"message":"\"store_ids\" is not allowed","path":["store_ids"],"type":"object.allowUnknown","context":{"child":"store_ids","value":"5e74812c6bd99e6a93faf8dd","key":"store_ids","label":"store_ids"}}],"_object":{"product_scope":"partial","products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"partial","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:48:55","message":"child \"products\" fails because [\"products\" at position 1 fails because [child \"model_scope\" fails because [\"model_scope\" is required]]]. child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed","stack":"ValidationError: child \"products\" fails because [\"products\" at position 1 fails because [child \"model_scope\" fails because [\"model_scope\" is required]]]. child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed\n    at Object.exports.process (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/errors.js:202:19)\n    at internals.Object._validateWithOptions (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/types/any/index.js:763:31)\n    at module.exports.internals.Any.validate (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/index.js:145:23)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:12:30\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"statusCode":400,"error":4000,"message":{"products":{"model_scope":"\"model_scope\" is required"},"store_id":"\"store_id\" is required","store_scope":"\"store_scope\" is not allowed","store_ids":"\"store_ids\" is not allowed"},"errors":{"products":{"1":{"model_scope":4000100}},"store_id":4000100,"store_scope":4000500,"store_ids":4000500},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:48:55","stack":"Error: [object Object]\n    at Object.getJoiError (/home/minhkha/Desktop/store/stht-server/src/commons/over_function/over.js:5:16)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:17:22\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"partial","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 400 503 - 20.029 ms","timestamp":"2021-08-02 08:48:55"}
{"isJoi":true,"name":"ValidationError","details":[{"message":"\"store_id\" is required","path":["store_id"],"type":"any.required","context":{"key":"store_id","label":"store_id"}},{"message":"\"store_scope\" is not allowed","path":["store_scope"],"type":"object.allowUnknown","context":{"child":"store_scope","value":"partial","key":"store_scope","label":"store_scope"}},{"message":"\"store_ids\" is not allowed","path":["store_ids"],"type":"object.allowUnknown","context":{"child":"store_ids","value":"5e74812c6bd99e6a93faf8dd","key":"store_ids","label":"store_ids"}}],"_object":{"product_scope":"partial","products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"partial","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:49:14","message":"child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed","stack":"ValidationError: child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed\n    at Object.exports.process (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/errors.js:202:19)\n    at internals.Object._validateWithOptions (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/types/any/index.js:763:31)\n    at module.exports.internals.Any.validate (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/index.js:145:23)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:12:30\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"statusCode":400,"error":4000,"message":{"store_id":"\"store_id\" is required","store_scope":"\"store_scope\" is not allowed","store_ids":"\"store_ids\" is not allowed"},"errors":{"store_id":4000100,"store_scope":4000500,"store_ids":4000500},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:49:14","stack":"Error: [object Object]\n    at Object.getJoiError (/home/minhkha/Desktop/store/stht-server/src/commons/over_function/over.js:5:16)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:17:22\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"partial","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 400 405 - 13.538 ms","timestamp":"2021-08-02 08:49:14"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T01:50:00.000Z","timestamp":"2021-08-02 08:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 08:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 08:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 08:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 08:50:00"}
{"isJoi":true,"name":"ValidationError","details":[{"message":"\"store_id\" is required","path":["store_id"],"type":"any.required","context":{"key":"store_id","label":"store_id"}},{"message":"\"store_scope\" is not allowed","path":["store_scope"],"type":"object.allowUnknown","context":{"child":"store_scope","value":"all","key":"store_scope","label":"store_scope"}},{"message":"\"store_ids\" is not allowed","path":["store_ids"],"type":"object.allowUnknown","context":{"child":"store_ids","value":"5e74812c6bd99e6a93faf8dd","key":"store_ids","label":"store_ids"}}],"_object":{"product_scope":"partial","products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"all","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:50:09","message":"child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed","stack":"ValidationError: child \"store_id\" fails because [\"store_id\" is required]. \"store_scope\" is not allowed. \"store_ids\" is not allowed\n    at Object.exports.process (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/errors.js:202:19)\n    at internals.Object._validateWithOptions (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/types/any/index.js:763:31)\n    at module.exports.internals.Any.validate (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/index.js:145:23)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:12:30\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"statusCode":400,"error":4000,"message":{"store_id":"\"store_id\" is required","store_scope":"\"store_scope\" is not allowed","store_ids":"\"store_ids\" is not allowed"},"errors":{"store_id":4000100,"store_scope":4000500,"store_ids":4000500},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:50:09","stack":"Error: [object Object]\n    at Object.getJoiError (/home/minhkha/Desktop/store/stht-server/src/commons/over_function/over.js:5:16)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:17:22\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_scope":"all","store_ids":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 400 405 - 12.974 ms","timestamp":"2021-08-02 08:50:09"}
{"isJoi":true,"name":"ValidationError","details":[{"message":"\"total\" is not allowed","path":["total"],"type":"any.unknown","context":{"key":"total","label":"total"}}],"_object":{"product_scope":"partial","products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"total":100,"store_id":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:51:59","message":"child \"total\" fails because [\"total\" is not allowed]","stack":"ValidationError: child \"total\" fails because [\"total\" is not allowed]\n    at Object.exports.process (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/errors.js:202:19)\n    at internals.Object._validateWithOptions (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/types/any/index.js:763:31)\n    at module.exports.internals.Any.validate (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/index.js:145:23)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:12:30\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"statusCode":400,"error":4000,"message":{"total":"\"total\" is not allowed"},"errors":{"total":4000102},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:51:59","stack":"Error: [object Object]\n    at Object.getJoiError (/home/minhkha/Desktop/store/stht-server/src/commons/over_function/over.js:5:16)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:17:22\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"total":100,"store_id":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 400 267 - 19.796 ms","timestamp":"2021-08-02 08:51:59"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 200 3559 - 100.047 ms","timestamp":"2021-08-02 08:52:11"}
{"isJoi":true,"name":"ValidationError","details":[{"message":"\"products\" is not allowed","path":["products"],"type":"any.unknown","context":{"key":"products","label":"products"}}],"_object":{"product_scope":"all","unlimit":true,"products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:54:19","message":"child \"products\" fails because [\"products\" is not allowed]","stack":"ValidationError: child \"products\" fails because [\"products\" is not allowed]\n    at Object.exports.process (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/errors.js:202:19)\n    at internals.Object._validateWithOptions (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/types/any/index.js:763:31)\n    at module.exports.internals.Any.validate (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/index.js:145:23)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:12:30\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"statusCode":400,"error":4000,"message":{"products":"\"products\" is not allowed"},"errors":{"products":4000102},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:54:19","stack":"Error: [object Object]\n    at Object.getJoiError (/home/minhkha/Desktop/store/stht-server/src/commons/over_function/over.js:5:16)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:17:22\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"all","unlimit":true,"products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 400 276 - 22.977 ms","timestamp":"2021-08-02 08:54:19"}
{"isJoi":true,"name":"ValidationError","details":[{"message":"\"unlimit\" is required","path":["unlimit"],"type":"any.required","context":{"key":"unlimit","label":"unlimit"}},{"message":"\"products\" is not allowed","path":["products"],"type":"any.unknown","context":{"key":"products","label":"products"}},{"message":"\"unlimited\" is not allowed","path":["unlimited"],"type":"object.allowUnknown","context":{"child":"unlimited","value":false,"key":"unlimited","label":"unlimited"}}],"_object":{"product_scope":"all","unlimited":false,"products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:55:14","message":"child \"unlimit\" fails because [\"unlimit\" is required]. child \"products\" fails because [\"products\" is not allowed]. \"unlimited\" is not allowed","stack":"ValidationError: child \"unlimit\" fails because [\"unlimit\" is required]. child \"products\" fails because [\"products\" is not allowed]. \"unlimited\" is not allowed\n    at Object.exports.process (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/errors.js:202:19)\n    at internals.Object._validateWithOptions (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/types/any/index.js:763:31)\n    at module.exports.internals.Any.validate (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/index.js:145:23)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:12:30\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"statusCode":400,"error":4000,"message":{"unlimit":"\"unlimit\" is required","products":"\"products\" is not allowed","unlimited":"\"unlimited\" is not allowed"},"errors":{"unlimit":4000100,"products":4000102,"unlimited":4000500},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:55:14","stack":"Error: [object Object]\n    at Object.getJoiError (/home/minhkha/Desktop/store/stht-server/src/commons/over_function/over.js:5:16)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:17:22\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"all","unlimited":false,"products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 400 393 - 21.374 ms","timestamp":"2021-08-02 08:55:14"}
{"isJoi":true,"name":"ValidationError","details":[{"message":"\"products\" is not allowed","path":["products"],"type":"any.unknown","context":{"key":"products","label":"products"}},{"message":"\"total\" is required","path":["total"],"type":"any.required","context":{"key":"total","label":"total"}}],"_object":{"product_scope":"all","unlimit":false,"products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:55:26","message":"child \"products\" fails because [\"products\" is not allowed]. child \"total\" fails because [\"total\" is required]","stack":"ValidationError: child \"products\" fails because [\"products\" is not allowed]. child \"total\" fails because [\"total\" is required]\n    at Object.exports.process (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/errors.js:202:19)\n    at internals.Object._validateWithOptions (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/types/any/index.js:763:31)\n    at module.exports.internals.Any.validate (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/index.js:145:23)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:12:30\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"statusCode":400,"error":4000,"message":{"products":"\"products\" is not allowed","total":"\"total\" is required"},"errors":{"products":4000102,"total":4000100},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:55:26","stack":"Error: [object Object]\n    at Object.getJoiError (/home/minhkha/Desktop/store/stht-server/src/commons/over_function/over.js:5:16)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:17:22\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"all","unlimit":false,"products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 400 324 - 23.338 ms","timestamp":"2021-08-02 08:55:26"}
{"isJoi":true,"name":"ValidationError","details":[{"message":"\"unlimit\" is not allowed","path":["unlimit"],"type":"any.unknown","context":{"key":"unlimit","label":"unlimit"}},{"message":"\"total\" is required","path":["total"],"type":"any.required","context":{"key":"total","label":"total"}}],"_object":{"product_scope":"partial","unlimit":false,"products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:55:32","message":"child \"unlimit\" fails because [\"unlimit\" is not allowed]. child \"total\" fails because [\"total\" is required]","stack":"ValidationError: child \"unlimit\" fails because [\"unlimit\" is not allowed]. child \"total\" fails because [\"total\" is required]\n    at Object.exports.process (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/errors.js:202:19)\n    at internals.Object._validateWithOptions (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/types/any/index.js:763:31)\n    at module.exports.internals.Any.validate (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/index.js:145:23)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:12:30\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"statusCode":400,"error":4000,"message":{"unlimit":"\"unlimit\" is not allowed","total":"\"total\" is required"},"errors":{"unlimit":4000102,"total":4000100},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:55:32","stack":"Error: [object Object]\n    at Object.getJoiError (/home/minhkha/Desktop/store/stht-server/src/commons/over_function/over.js:5:16)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:17:22\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","unlimit":false,"products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 400 321 - 20.046 ms","timestamp":"2021-08-02 08:55:32"}
{"isJoi":true,"name":"ValidationError","details":[{"message":"\"products\" is not allowed","path":["products"],"type":"any.unknown","context":{"key":"products","label":"products"}},{"message":"\"total\" is required","path":["total"],"type":"any.required","context":{"key":"total","label":"total"}}],"_object":{"product_scope":"all","unlimit":false,"products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:56:01","message":"child \"products\" fails because [\"products\" is not allowed]. child \"total\" fails because [\"total\" is required]","stack":"ValidationError: child \"products\" fails because [\"products\" is not allowed]. child \"total\" fails because [\"total\" is required]\n    at Object.exports.process (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/errors.js:202:19)\n    at internals.Object._validateWithOptions (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/types/any/index.js:763:31)\n    at module.exports.internals.Any.validate (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/index.js:145:23)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:12:30\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"statusCode":400,"error":4000,"message":{"products":"\"products\" is not allowed","total":"\"total\" is required"},"errors":{"products":4000102,"total":4000100},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:56:01","stack":"Error: [object Object]\n    at Object.getJoiError (/home/minhkha/Desktop/store/stht-server/src/commons/over_function/over.js:5:16)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:17:22\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"all","unlimit":false,"products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 400 324 - 15.190 ms","timestamp":"2021-08-02 08:56:01"}
{"isJoi":true,"name":"ValidationError","details":[{"message":"\"products\" is not allowed","path":["products"],"type":"any.unknown","context":{"key":"products","label":"products"}}],"_object":{"product_scope":"all","unlimit":true,"products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:56:09","message":"child \"products\" fails because [\"products\" is not allowed]","stack":"ValidationError: child \"products\" fails because [\"products\" is not allowed]\n    at Object.exports.process (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/errors.js:202:19)\n    at internals.Object._validateWithOptions (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/types/any/index.js:763:31)\n    at module.exports.internals.Any.validate (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/index.js:145:23)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:12:30\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"statusCode":400,"error":4000,"message":{"products":"\"products\" is not allowed"},"errors":{"products":4000102},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:56:09","stack":"Error: [object Object]\n    at Object.getJoiError (/home/minhkha/Desktop/store/stht-server/src/commons/over_function/over.js:5:16)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:17:22\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"all","unlimit":true,"products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 400 276 - 29.321 ms","timestamp":"2021-08-02 08:56:09"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949d6bd99e6a93fb262f","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821f","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2622","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b68221","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 200 3559 - 71.671 ms","timestamp":"2021-08-02 08:56:21"}
{"message":"updateCompanyLimit","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:57:07"}
{"service":"sumviet-apidevelopment","body":{"promotion_id":"610750c57bc77da793f08a37","status":"active"},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"PUT /api/s_/promotion/v2/company/status 200 3286 - 35.152 ms","timestamp":"2021-08-02 08:57:07"}
{"service":"sumviet-apidevelopment","level":"info","message":"update ProductStorings By Promotion Changes 5e747f036bd99e6a93faef55","timestamp":"2021-08-02 08:57:07"}
{"message":"get Max Company By Promotion Changes","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 08:57:10"}
{"service":"sumviet-apidevelopment","level":"info","message":"Notification: {\n  user_id: 5e747e4f6bd99e6a93faec25,\n  company_id: 5e747f036bd99e6a93faef55,\n  mall_id: undefined,\n  staff_id: undefined,\n  warehouse_id: undefined,\n  type: 'company_suspend',\n  title: 'Tạm ngưng doanh nghiệp!!',\n  message: 'Quỹ hoàn tiền của bạn đã bị tạm khóa vì không đủ hoàn cho 1 sản phẩm hoàn tiền lớn nhất. Vui lòng nạp thêm tiền vào quỹ.',\n  object_id: undefined,\n  onModel: undefined\n} ","timestamp":"2021-08-02 08:57:14"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T02:00:00.000Z","timestamp":"2021-08-02 09:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 09:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 09:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 09:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 09:00:00"}
{"statusCode":404,"message":"not found","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 09:02:42","stack":"Error: not found\n    at catcher (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/error.js:7:8)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at urlencodedParser (/home/minhkha/Desktop/store/stht-server/node_modules/body-parser/lib/types/urlencoded.js:82:7)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/home/minhkha/Desktop/store/stht-server/node_modules/body-parser/lib/types/json.js:101:7)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:635:15\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at logger (/home/minhkha/Desktop/store/stht-server/node_modules/morgan/index.js:144:5)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"5e7494a16bd99e6a93fb26cc","company_id":"5e747f036bd99e6a93faef61","quantity":"1"},"level":"info","message":"GET /api/_s/cart/v2/user/ 404 125 - 18.202 ms","timestamp":"2021-08-02 09:02:42"}
{"statusCode":404,"message":"not found","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 09:03:21","stack":"Error: not found\n    at catcher (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/error.js:7:8)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at urlencodedParser (/home/minhkha/Desktop/store/stht-server/node_modules/body-parser/lib/types/urlencoded.js:82:7)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/home/minhkha/Desktop/store/stht-server/node_modules/body-parser/lib/types/json.js:101:7)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:635:15\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at logger (/home/minhkha/Desktop/store/stht-server/node_modules/morgan/index.js:144:5)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"5e7494a16bd99e6a93fb26cc","company_id":"5e747f036bd99e6a93faef61","quantity":"1"},"level":"info","message":"GET /api/_s/cart/v3/user/ 404 125 - 1.732 ms","timestamp":"2021-08-02 09:03:21"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T02:10:00.000Z","timestamp":"2021-08-02 09:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 09:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 09:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 09:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 09:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T02:20:00.000Z","timestamp":"2021-08-02 09:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 09:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 09:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 09:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 09:20:00"}
{"isJoi":true,"name":"ValidationError","details":[{"message":"\"products\" position 1 contains a duplicate value","path":["products",1],"type":"array.unique","context":{"pos":1,"value":{"product_id":"5e74949c6bd99e6a93fb2603","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821d","unlimited":false,"total":10,"remain":10}]},"dupePos":0,"dupeValue":{"product_id":"5e74949c6bd99e6a93fb2603","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821d","unlimited":false,"total":10,"remain":10}]},"key":1,"label":"products"}}],"_object":{"product_scope":"partial","products":[{"product_id":"5e74949c6bd99e6a93fb2603","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821d","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949c6bd99e6a93fb2603","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821d","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 09:26:21","message":"child \"products\" fails because [\"products\" position 1 contains a duplicate value]","stack":"ValidationError: child \"products\" fails because [\"products\" position 1 contains a duplicate value]\n    at Object.exports.process (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/errors.js:202:19)\n    at internals.Object._validateWithOptions (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/types/any/index.js:763:31)\n    at module.exports.internals.Any.validate (/home/minhkha/Desktop/store/stht-server/node_modules/@hapi/joi/lib/index.js:145:23)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:12:30\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"statusCode":400,"error":4000,"message":{"products":{"1":"\"products\" position 1 contains a duplicate value"}},"errors":{"products":{"1":4000601}},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 09:26:21","stack":"Error: [object Object]\n    at Object.getJoiError (/home/minhkha/Desktop/store/stht-server/src/commons/over_function/over.js:5:16)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:17:22\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949c6bd99e6a93fb2603","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821d","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949c6bd99e6a93fb2603","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821d","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 400 311 - 48.953 ms","timestamp":"2021-08-02 09:26:21"}
{"statusCode":400,"error":5000,"message":"company is not approved","errors":{"company":7000102},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 09:27:30","stack":"Error: company is not approved\n    at _callee$ (/home/minhkha/Desktop/store/stht-server/src/search/promotion/v2/promotion.owner.controller.js:41:9)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:32:7\n    at new Promise (<anonymous>)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:21:12\n    at create (/home/minhkha/Desktop/store/stht-server/src/search/promotion/v2/promotion.owner.controller.js:42:18)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/joi.validate.js:26:10\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/auth.js:318:16)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949c6bd99e6a93fb2603","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821d","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2617","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6822d","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 400 258 - 44.050 ms","timestamp":"2021-08-02 09:27:30"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T02:30:00.000Z","timestamp":"2021-08-02 09:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 09:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 09:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 09:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 09:30:00"}
{"statusCode":400,"error":7000,"message":"client.productNotExist","errors":{"product_storing":7001300},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 09:31:22","stack":"Error: client.productNotExist\n    at _callee8$ (/home/minhkha/Desktop/store/stht-server/src/search/product-storing/product-storing.service.js:88:13)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\n    at runNextTicks (internal/process/task_queues.js:64:3)\n    at processImmediate (internal/timers.js:437:9)\nFrom previous event:\n    at processImmediate (internal/timers.js:464:21)\nFrom previous event:\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/promotion/v2/promotion.handler.js:57:20)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949c6bd99e6a93fb2603","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821d","unlimited":false,"total":10,"remain":10}]},{"product_id":"5e74949d6bd99e6a93fb2617","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6822d","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 400 265 - 59.713 ms","timestamp":"2021-08-02 09:31:22"}
{"statusCode":400,"error":7000,"message":"client.productNotExist","errors":{"product_storing":7001300},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 09:33:40","stack":"Error: client.productNotExist\n    at _callee8$ (/home/minhkha/Desktop/store/stht-server/src/search/product-storing/product-storing.service.js:88:13)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\nFrom previous event:\n    at processImmediate (internal/timers.js:464:21)\nFrom previous event:\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/promotion/v2/promotion.handler.js:57:20)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949c6bd99e6a93fb2603","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821d","unlimited":false,"total":10,"remain":10},{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821e","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 400 265 - 22.311 ms","timestamp":"2021-08-02 09:33:40"}
{"statusCode":400,"error":7000,"message":"client.productNotExist","errors":{"product_storing":7001300},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 09:35:26","stack":"Error: client.productNotExist\n    at _callee8$ (/home/minhkha/Desktop/store/stht-server/src/search/product-storing/product-storing.service.js:88:13)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\nFrom previous event:\n    at processImmediate (internal/timers.js:464:21)\nFrom previous event:\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/promotion/v2/promotion.handler.js:57:20)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949c6bd99e6a93fb2603","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821d","unlimited":false,"total":10,"remain":10},{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821e","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 400 265 - 18.583 ms","timestamp":"2021-08-02 09:35:26"}
{"statusCode":400,"error":7000,"message":"client.productNotExist","errors":{"product_storing":7001300},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 09:36:02","stack":"Error: client.productNotExist\n    at _callee8$ (/home/minhkha/Desktop/store/stht-server/src/search/product-storing/product-storing.service.js:88:13)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\nFrom previous event:\n    at processImmediate (internal/timers.js:464:21)\nFrom previous event:\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/promotion/v2/promotion.handler.js:57:20)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949c6bd99e6a93fb2603","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821d","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company 400 265 - 17.482 ms","timestamp":"2021-08-02 09:36:02"}
{"statusCode":404,"message":"not found","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 09:38:00","stack":"Error: not found\n    at catcher (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/error.js:7:8)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at urlencodedParser (/home/minhkha/Desktop/store/stht-server/node_modules/body-parser/lib/types/urlencoded.js:82:7)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/home/minhkha/Desktop/store/stht-server/node_modules/body-parser/lib/types/json.js:101:7)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at Immediate.next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at Immediate._onImmediate (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:635:15)\n    at processImmediate (internal/timers.js:466:21)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949c6bd99e6a93fb2603","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821d","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"level":"info","message":"POST /api/s_/promotion/v2/ 404 125 - 4.468 ms","timestamp":"2021-08-02 09:38:00"}
{"statusCode":400,"error":7000,"message":"client.productNotExist","errors":{"product_storing":7001300},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 09:38:16","stack":"Error: client.productNotExist\n    at _callee8$ (/home/minhkha/Desktop/store/stht-server/src/search/product-storing/product-storing.service.js:88:13)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\nFrom previous event:\n    at processImmediate (internal/timers.js:464:21)\nFrom previous event:\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/promotion/v2/promotion.handler.js:57:20)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949c6bd99e6a93fb2603","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821d","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company/ 400 265 - 19.213 ms","timestamp":"2021-08-02 09:38:16"}
{"statusCode":400,"error":7000,"message":"client.productNotExist","errors":{"product_storing":7001300},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 09:39:02","stack":"Error: client.productNotExist\n    at _callee8$ (/home/minhkha/Desktop/store/stht-server/src/search/product-storing/product-storing.service.js:88:13)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\nFrom previous event:\n    at processImmediate (internal/timers.js:464:21)\nFrom previous event:\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/promotion/v2/promotion.handler.js:57:20)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949c6bd99e6a93fb2603","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821d","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company/ 400 265 - 19.384 ms","timestamp":"2021-08-02 09:39:02"}
{"statusCode":400,"error":7000,"message":"client.productNotExist","errors":{"product_storing":7001300},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 09:39:22","stack":"Error: client.productNotExist\n    at _callee8$ (/home/minhkha/Desktop/store/stht-server/src/search/product-storing/product-storing.service.js:88:13)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\nFrom previous event:\n    at processImmediate (internal/timers.js:464:21)\nFrom previous event:\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/promotion/v2/promotion.handler.js:57:20)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949c6bd99e6a93fb2603","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821d","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company/ 400 265 - 31.185 ms","timestamp":"2021-08-02 09:39:23"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T02:40:00.000Z","timestamp":"2021-08-02 09:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 09:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 09:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 09:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 09:40:00"}
{"statusCode":400,"error":7000,"message":"client.productNotExist","errors":{"product_storing":7001300},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 09:43:10","stack":"Error: client.productNotExist\n    at _callee8$ (/home/minhkha/Desktop/store/stht-server/src/search/product-storing/product-storing.service.js:88:13)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\nFrom previous event:\n    at processImmediate (internal/timers.js:464:21)\nFrom previous event:\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/promotion/v2/promotion.handler.js:57:20)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949c6bd99e6a93fb2603","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821d","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company/ 400 265 - 24.744 ms","timestamp":"2021-08-02 09:43:10"}
{"statusCode":400,"error":7000,"message":"client.productNotExist","errors":{"product_storing":7001300},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 09:43:38","stack":"Error: client.productNotExist\n    at _callee8$ (/home/minhkha/Desktop/store/stht-server/src/search/product-storing/product-storing.service.js:88:13)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\nFrom previous event:\n    at processImmediate (internal/timers.js:464:21)\nFrom previous event:\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/promotion/v2/promotion.handler.js:57:20)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949c6bd99e6a93fb2603","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821d","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company/ 400 265 - 18.091 ms","timestamp":"2021-08-02 09:43:38"}
{"statusCode":404,"message":"not found","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 09:45:03","stack":"Error: not found\n    at catcher (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/error.js:7:8)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at urlencodedParser (/home/minhkha/Desktop/store/stht-server/node_modules/body-parser/lib/types/urlencoded.js:82:7)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/home/minhkha/Desktop/store/stht-server/node_modules/body-parser/lib/types/json.js:101:7)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:635:15\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at logger (/home/minhkha/Desktop/store/stht-server/node_modules/morgan/index.js:144:5)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"5e74812c6bd99e6a93faf8dd","company_id":"5e747f036bd99e6a93faef61","quantity":"1","model_id":""},"level":"info","message":"GET /api/_s/cart/v3/user/product/ 404 125 - 2.552 ms","timestamp":"2021-08-02 09:45:03"}
{"statusCode":400,"error":7000,"message":"client.productNotExist","errors":{"product_storing":7001300},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 09:46:44","stack":"Error: client.productNotExist\n    at _callee8$ (/home/minhkha/Desktop/store/stht-server/src/search/product-storing/product-storing.service.js:88:13)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\nFrom previous event:\n    at processImmediate (internal/timers.js:464:21)\nFrom previous event:\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/promotion/v2/promotion.handler.js:57:20)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_scope":"partial","products":[{"product_id":"5e74949c6bd99e6a93fb2603","model_scope":"partial","models":[{"model_images":["asdddddddddddddddddd"],"model_id":"60a7f38411d36824a1b6821d","unlimited":false,"total":10,"remain":10}]}],"store_id":"5e74812c6bd99e6a93faf8dd","name":"Thích thì KM","description":"Ngon, bổ, rẻ","type":"percent","value":"0.5","refund":"0.2","start_at":"2021-08-04T03:43:08.674Z","expire_at":"2021-08-31T08:39:08.674Z","conditions":[{"type":"min-quantity","value":3}]},"user_id":"5e747e4f6bd99e6a93faec25","company_id":"5e747f036bd99e6a93faef55","level":"info","message":"POST /api/s_/promotion/v2/company/ 400 265 - 20.945 ms","timestamp":"2021-08-02 09:46:44"}
{"statusCode":404,"message":"not found","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 09:49:31","stack":"Error: not found\n    at catcher (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/error.js:7:8)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at urlencodedParser (/home/minhkha/Desktop/store/stht-server/node_modules/body-parser/lib/types/urlencoded.js:82:7)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/home/minhkha/Desktop/store/stht-server/node_modules/body-parser/lib/types/json.js:101:7)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:635:15\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at logger (/home/minhkha/Desktop/store/stht-server/node_modules/morgan/index.js:144:5)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"60adb152d4c6f92de2e89d60","company_id":"5e747f036bd99e6a93faef61","quantity":"1","model_id":"60adb152d4c6f92de2e89d62"},"level":"info","message":"POST /api/_s/cart/v3/user/product/ 404 125 - 1.979 ms","timestamp":"2021-08-02 09:49:31"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T02:50:00.000Z","timestamp":"2021-08-02 09:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 09:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 09:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 09:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 09:50:00"}
{"statusCode":404,"message":"not found","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 09:50:47","stack":"Error: not found\n    at catcher (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/error.js:7:8)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at urlencodedParser (/home/minhkha/Desktop/store/stht-server/node_modules/body-parser/lib/types/urlencoded.js:82:7)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/home/minhkha/Desktop/store/stht-server/node_modules/body-parser/lib/types/json.js:101:7)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:635:15\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at logger (/home/minhkha/Desktop/store/stht-server/node_modules/morgan/index.js:144:5)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"60adb152d4c6f92de2e89d60","company_id":"5e747f036bd99e6a93faef61","quantity":"1","model_id":"60adb152d4c6f92de2e89d62"},"level":"info","message":"POST /api/cart/v3/user/product/ 404 125 - 2.017 ms","timestamp":"2021-08-02 09:50:47"}
{"statusCode":404,"message":"not found","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 09:52:01","stack":"Error: not found\n    at catcher (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/error.js:7:8)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at urlencodedParser (/home/minhkha/Desktop/store/stht-server/node_modules/body-parser/lib/types/urlencoded.js:82:7)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/home/minhkha/Desktop/store/stht-server/node_modules/body-parser/lib/types/json.js:101:7)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:635:15\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at logger (/home/minhkha/Desktop/store/stht-server/node_modules/morgan/index.js:144:5)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"60adb152d4c6f92de2e89d60","company_id":"5e747f036bd99e6a93faef61","quantity":"1","model_id":"60adb152d4c6f92de2e89d62"},"level":"info","message":"POST /api/_s/cart/v3/user/product/ 404 125 - 1.629 ms","timestamp":"2021-08-02 09:52:01"}
{"statusCode":404,"message":"not found","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 09:52:05","stack":"Error: not found\n    at catcher (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/error.js:7:8)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at urlencodedParser (/home/minhkha/Desktop/store/stht-server/node_modules/body-parser/lib/types/urlencoded.js:82:7)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/home/minhkha/Desktop/store/stht-server/node_modules/body-parser/lib/types/json.js:101:7)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:635:15\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at logger (/home/minhkha/Desktop/store/stht-server/node_modules/morgan/index.js:144:5)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"60adb152d4c6f92de2e89d60","company_id":"5e747f036bd99e6a93faef61","quantity":"1","model_id":"60adb152d4c6f92de2e89d62"},"level":"info","message":"POST /api/_s/cart/v2/user/product/ 404 125 - 1.957 ms","timestamp":"2021-08-02 09:52:05"}
{"statusCode":404,"message":"not found","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 09:52:40","stack":"Error: not found\n    at catcher (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/error.js:7:8)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at urlencodedParser (/home/minhkha/Desktop/store/stht-server/node_modules/body-parser/lib/types/urlencoded.js:82:7)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/home/minhkha/Desktop/store/stht-server/node_modules/body-parser/lib/types/json.js:101:7)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:635:15\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at logger (/home/minhkha/Desktop/store/stht-server/node_modules/morgan/index.js:144:5)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"60adb152d4c6f92de2e89d60","company_id":"5e747f036bd99e6a93faef61","quantity":"1","model_id":"60adb152d4c6f92de2e89d62"},"level":"info","message":"POST /api/_s/cart/v2/user/product 404 125 - 2.855 ms","timestamp":"2021-08-02 09:52:40"}
{"statusCode":404,"message":"not found","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 09:52:48","stack":"Error: not found\n    at catcher (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/error.js:7:8)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at urlencodedParser (/home/minhkha/Desktop/store/stht-server/node_modules/body-parser/lib/types/urlencoded.js:82:7)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/home/minhkha/Desktop/store/stht-server/node_modules/body-parser/lib/types/json.js:101:7)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:635:15\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at logger (/home/minhkha/Desktop/store/stht-server/node_modules/morgan/index.js:144:5)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"60adb152d4c6f92de2e89d60","company_id":"5e747f036bd99e6a93faef61","quantity":"1","model_id":"60adb152d4c6f92de2e89d62"},"level":"info","message":"POST /api/_s/cart/v2/user/list 404 125 - 1.930 ms","timestamp":"2021-08-02 09:52:48"}
{"statusCode":404,"message":"not found","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 09:52:52","stack":"Error: not found\n    at catcher (/home/minhkha/Desktop/store/stht-server/src/commons/middlewares/error.js:7:8)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at urlencodedParser (/home/minhkha/Desktop/store/stht-server/node_modules/body-parser/lib/types/urlencoded.js:82:7)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/home/minhkha/Desktop/store/stht-server/node_modules/body-parser/lib/types/json.js:101:7)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:635:15\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:317:13)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/index.js:275:10)\n    at logger (/home/minhkha/Desktop/store/stht-server/node_modules/morgan/index.js:144:5)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"60adb152d4c6f92de2e89d60","company_id":"5e747f036bd99e6a93faef61","quantity":"1","model_id":"60adb152d4c6f92de2e89d62"},"level":"info","message":"POST /api/_s/cart/v3/user/list 404 125 - 5.564 ms","timestamp":"2021-08-02 09:52:52"}
{"service":"sumviet-apidevelopment","level":"info","message":"query { _id: '60adb152d4c6f92de2e89d60' }","timestamp":"2021-08-02 09:53:19"}
{"statusCode":400,"error":7000,"message":"client.productNotExist","errors":{"product_storing":7001300},"user_id":"5e747e4f6bd99e6a93faec25","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 09:53:19","stack":"Error: client.productNotExist\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/search/product-storing/product-storing.service.js:59:13)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\n    at runNextTicks (internal/process/task_queues.js:64:3)\n    at processImmediate (internal/timers.js:437:9)\nFrom previous event:\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:42:59)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:32:7\n    at new Promise (<anonymous>)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:21:12\n    at Object.addProduct (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:39:6)\n    at _callee4$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.controller.js:87:40)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:32:7\n    at new Promise (<anonymous>)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:21:12\n    at addProduct (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.controller.js:76:38)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/validator.js:29:3\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"60adb152d4c6f92de2e89d60","company_id":"5e747f036bd99e6a93faef61","quantity":1,"model_id":"60adb152d4c6f92de2e89d62"},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product 400 225 - 52.710 ms","timestamp":"2021-08-02 09:53:19"}
{"service":"sumviet-apidevelopment","level":"info","message":"query { _id: '60adb69a9a1909327669542a' }","timestamp":"2021-08-02 09:54:32"}
{"statusCode":400,"error":7000,"message":"client.productNotExist","errors":{"product_storing":7001300},"user_id":"5e747e4f6bd99e6a93faec25","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 09:54:32","stack":"Error: client.productNotExist\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/search/product-storing/product-storing.service.js:59:13)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\n    at runNextTicks (internal/process/task_queues.js:64:3)\n    at processImmediate (internal/timers.js:437:9)\nFrom previous event:\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:42:59)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:32:7\n    at new Promise (<anonymous>)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:21:12\n    at Object.addProduct (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:39:6)\n    at _callee4$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.controller.js:87:40)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:32:7\n    at new Promise (<anonymous>)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:21:12\n    at addProduct (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.controller.js:76:38)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/validator.js:29:3\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"60adb69a9a1909327669542a","company_id":"5e747f036bd99e6a93faef61","quantity":1,"model_id":"60adb152d4c6f92de2e89d62"},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product 400 225 - 14.803 ms","timestamp":"2021-08-02 09:54:32"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T03:00:00.000Z","timestamp":"2021-08-02 10:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 10:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 10:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 10:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 10:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"query { _id: '60adb69a9a1909327669542a' }","timestamp":"2021-08-02 10:00:52"}
{"statusCode":400,"error":7000,"message":"client.productNotExist","errors":{"product_storing":7001300},"user_id":"5e747e4f6bd99e6a93faec25","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:00:52","stack":"Error: client.productNotExist\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/search/product-storing/product-storing.service.js:59:13)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\n    at runNextTicks (internal/process/task_queues.js:64:3)\n    at processImmediate (internal/timers.js:437:9)\nFrom previous event:\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:42:59)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:32:7\n    at new Promise (<anonymous>)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:21:12\n    at Object.addProduct (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:39:6)\n    at _callee4$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.controller.js:87:40)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:32:7\n    at new Promise (<anonymous>)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:21:12\n    at addProduct (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.controller.js:76:38)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/validator.js:29:3\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"60adb69a9a1909327669542a","company_id":"5e747f036bd99e6a93faef61","quantity":1,"model_id":"60adb152d4c6f92de2e89d62"},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product 400 225 - 24.271 ms","timestamp":"2021-08-02 10:00:52"}
{"service":"sumviet-apidevelopment","level":"info","message":"query { _id: '60fb7eee87992d3f014fdccf' }","timestamp":"2021-08-02 10:03:05"}
{"statusCode":400,"error":7000,"message":"client.productNotExist","errors":{"product_storing":7001300},"user_id":"5e747e4f6bd99e6a93faec25","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:03:05","stack":"Error: client.productNotExist\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/search/product-storing/product-storing.service.js:59:13)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\n    at runNextTicks (internal/process/task_queues.js:64:3)\n    at processImmediate (internal/timers.js:437:9)\nFrom previous event:\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:42:59)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:32:7\n    at new Promise (<anonymous>)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:21:12\n    at Object.addProduct (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:39:6)\n    at _callee4$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.controller.js:87:40)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:32:7\n    at new Promise (<anonymous>)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:21:12\n    at addProduct (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.controller.js:76:38)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/validator.js:29:3\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"60fb7eee87992d3f014fdccf","company_id":"5e747f036bd99e6a93faef61","quantity":1,"model_id":"60adb152d4c6f92de2e89d62"},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product 400 225 - 23.935 ms","timestamp":"2021-08-02 10:03:05"}
{"service":"sumviet-apidevelopment","level":"info","message":"query { _id: '60adb69a9a1909327669542a' }","timestamp":"2021-08-02 10:03:34"}
{"statusCode":400,"error":7000,"message":"client.productNotExist","errors":{"product_storing":7001300},"user_id":"5e747e4f6bd99e6a93faec25","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:03:34","stack":"Error: client.productNotExist\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/search/product-storing/product-storing.service.js:59:13)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\n    at runNextTicks (internal/process/task_queues.js:64:3)\n    at processImmediate (internal/timers.js:437:9)\nFrom previous event:\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:42:59)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:32:7\n    at new Promise (<anonymous>)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:21:12\n    at Object.addProduct (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:39:6)\n    at _callee4$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.controller.js:87:40)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:32:7\n    at new Promise (<anonymous>)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:21:12\n    at addProduct (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.controller.js:76:38)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/validator.js:29:3\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"60adb69a9a1909327669542a","company_id":"5e747f036bd99e6a93faef61","quantity":1,"model_id":"60adb152d4c6f92de2e89d62"},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product 400 225 - 13.453 ms","timestamp":"2021-08-02 10:03:34"}
{"service":"sumviet-apidevelopment","level":"info","message":"query { _id: '60adb69a9a1909327669542a' }","timestamp":"2021-08-02 10:03:53"}
{"statusCode":400,"error":7000,"message":"client.productNotExist","errors":{"product_storing":7001300},"user_id":"5e747e4f6bd99e6a93faec25","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:03:53","stack":"Error: client.productNotExist\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/search/product-storing/product-storing.service.js:59:13)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\n    at runNextTicks (internal/process/task_queues.js:64:3)\n    at processImmediate (internal/timers.js:437:9)\nFrom previous event:\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:42:59)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:32:7\n    at new Promise (<anonymous>)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:21:12\n    at Object.addProduct (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:39:6)\n    at _callee4$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.controller.js:87:40)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:32:7\n    at new Promise (<anonymous>)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:21:12\n    at addProduct (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.controller.js:76:38)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/validator.js:29:3\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"60adb69a9a1909327669542a","company_id":"5e747f036bd99e6a93faef55","quantity":1,"model_id":"60adb152d4c6f92de2e89d62"},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product 400 225 - 53.036 ms","timestamp":"2021-08-02 10:03:53"}
{"service":"sumviet-apidevelopment","level":"info","message":"query { _id: '60adb69a9a1909327669542a' }","timestamp":"2021-08-02 10:05:37"}
{"statusCode":400,"error":7000,"message":"client.productNotExist","errors":{"product_storing":7001300},"user_id":"5e747e4f6bd99e6a93faec25","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:05:37","stack":"Error: client.productNotExist\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/search/product-storing/product-storing.service.js:59:13)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\n    at runNextTicks (internal/process/task_queues.js:64:3)\n    at processImmediate (internal/timers.js:437:9)\nFrom previous event:\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:42:59)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:32:7\n    at new Promise (<anonymous>)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:21:12\n    at Object.addProduct (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:39:6)\n    at _callee4$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.controller.js:87:40)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:32:7\n    at new Promise (<anonymous>)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:21:12\n    at addProduct (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.controller.js:76:38)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/validator.js:29:3\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"60adb69a9a1909327669542a","company_id":"5e747f036bd99e6a93faef55","quantity":1,"model_id":"60adb152d4c6f92de2e89d62"},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product 400 225 - 14.560 ms","timestamp":"2021-08-02 10:05:37"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T03:10:00.000Z","timestamp":"2021-08-02 10:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 10:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 10:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 10:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 10:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"url /master-data/district {} { province_id: 0 } {}","timestamp":"2021-08-02 10:11:05"}
{"service":"sumviet-apidevelopment","level":"info","message":"Env version 1","timestamp":"2021-08-02 10:11:09"}
{"message":"cronjob topup combo start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:11:09"}
{"message":"cronjob category has product start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:11:09"}
{"message":"cronjob update promotion start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:11:09"}
{"message":"cronjob add schedule start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:11:09"}
{"service":"sumviet-apidevelopment","level":"info","message":"Start Date, 2021-08-01T17:00:00.000Z","timestamp":"2021-08-02 10:11:09"}
{"message":"Lucky shopping initializing...","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:11:09"}
{"message":"elasticsearch cluster is down!","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:11:12"}
{"message":"Database Connected","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:11:12"}
{"message":"cronjob auto handling unlucky shopping start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:11:12"}
{"service":"sumviet-apidevelopment","level":"info","message":"auto handling for date 02-08-2021 starting ....","timestamp":"2021-08-02 10:11:12"}
{"message":"INIT CONFIGS SUCCESS","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:11:12"}
{"service":"sumviet-apidevelopment","level":"info","message":"luckyShopping null","timestamp":"2021-08-02 10:11:12"}
{"message":"districtList loaded","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:11:12"}
{"service":"sumviet-apidevelopment","level":"info","message":"url /master-data/ward { district_id: -1 } {} {}","timestamp":"2021-08-02 10:11:12"}
{"service":"sumviet-apidevelopment","level":"info","message":"query { _id: '60adb69a9a1909327669542a' }","timestamp":"2021-08-02 10:11:12"}
{"statusCode":400,"error":7000,"message":"client.productNotExist","errors":{"product_storing":7001300},"user_id":"5e747e4f6bd99e6a93faec25","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:11:12","stack":"Error: client.productNotExist\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/search/product-storing/product-storing.service.js:59:13)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\n    at runNextTicks (internal/process/task_queues.js:64:3)\n    at processImmediate (internal/timers.js:437:9)\nFrom previous event:\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:42:59)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:32:7\n    at new Promise (<anonymous>)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:21:12\n    at Object.addProduct (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:39:6)\n    at _callee4$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.controller.js:89:40)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:32:7\n    at new Promise (<anonymous>)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:21:12\n    at addProduct (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.controller.js:77:38)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/validator.js:29:3\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"60adb69a9a1909327669542a","company_id":"5e747f036bd99e6a93faef55","quantity":1,"model_id":"60adb152d4c6f92de2e89d62"},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product 400 225 - 175.883 ms","timestamp":"2021-08-02 10:11:12"}
{"message":"wardList loaded","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:11:15"}
{"service":"sumviet-apidevelopment","level":"info","message":"url /master-data/district {} { province_id: 0 } {}","timestamp":"2021-08-02 10:13:32"}
{"service":"sumviet-apidevelopment","level":"info","message":"Env version 1","timestamp":"2021-08-02 10:13:33"}
{"message":"cronjob topup combo start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:13:33"}
{"message":"cronjob category has product start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:13:33"}
{"message":"cronjob update promotion start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:13:33"}
{"message":"cronjob add schedule start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:13:33"}
{"service":"sumviet-apidevelopment","level":"info","message":"Start Date, 2021-08-01T17:00:00.000Z","timestamp":"2021-08-02 10:13:33"}
{"message":"Lucky shopping initializing...","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:13:33"}
{"message":"elasticsearch cluster is down!","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:13:33"}
{"message":"Database Connected","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:13:33"}
{"message":"cronjob auto handling unlucky shopping start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:13:34"}
{"service":"sumviet-apidevelopment","level":"info","message":"auto handling for date 02-08-2021 starting ....","timestamp":"2021-08-02 10:13:34"}
{"message":"INIT CONFIGS SUCCESS","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:13:34"}
{"service":"sumviet-apidevelopment","level":"info","message":"luckyShopping null","timestamp":"2021-08-02 10:13:34"}
{"message":"districtList loaded","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:13:34"}
{"service":"sumviet-apidevelopment","level":"info","message":"url /master-data/ward { district_id: -1 } {} {}","timestamp":"2021-08-02 10:13:34"}
{"message":"wardList loaded","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:13:37"}
{"service":"sumviet-apidevelopment","level":"info","message":"query { _id: '60adb69a9a1909327669542a' }","timestamp":"2021-08-02 10:13:44"}
{"statusCode":400,"error":7000,"message":"client.productNotExist","errors":{"product_storing":7001300},"user_id":"5e747e4f6bd99e6a93faec25","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:13:44","stack":"Error: client.productNotExist\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/search/product-storing/product-storing.service.js:59:13)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\n    at runNextTicks (internal/process/task_queues.js:64:3)\n    at processImmediate (internal/timers.js:437:9)\nFrom previous event:\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:42:59)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:32:7\n    at new Promise (<anonymous>)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:21:12\n    at Object.addProduct (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:39:6)\n    at _callee4$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.controller.js:89:40)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:32:7\n    at new Promise (<anonymous>)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:21:12\n    at addProduct (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.controller.js:77:38)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/validator.js:29:3\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"60adb69a9a1909327669542a","company_id":"5e747f036bd99e6a93faef55","quantity":1,"model_id":"60adb152d4c6f92de2e89d62"},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product 400 225 - 117.724 ms","timestamp":"2021-08-02 10:13:44"}
{"service":"sumviet-apidevelopment","level":"info","message":"query { _id: '60adb69a9a1909327669542a' }","timestamp":"2021-08-02 10:13:58"}
{"statusCode":400,"error":7000,"message":"client.productNotExist","errors":{"product_storing":7001300},"user_id":"5e747e4f6bd99e6a93faec25","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:13:58","stack":"Error: client.productNotExist\n    at _callee7$ (/home/minhkha/Desktop/store/stht-server/src/search/product-storing/product-storing.service.js:59:13)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\n    at runNextTicks (internal/process/task_queues.js:64:3)\n    at processImmediate (internal/timers.js:437:9)\nFrom previous event:\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:42:59)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:32:7\n    at new Promise (<anonymous>)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:21:12\n    at Object.addProduct (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:39:6)\n    at _callee4$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.controller.js:89:40)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:32:7\n    at new Promise (<anonymous>)\n    at /home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:21:12\n    at addProduct (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.controller.js:77:38)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at /home/minhkha/Desktop/store/stht-server/src/commons/middlewares/validator.js:29:3\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/minhkha/Desktop/store/stht-server/node_modules/express/lib/router/layer.js:95:5)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"60adb69a9a1909327669542a","company_id":"5e747f036bd99e6a93faef55","quantity":1,"model_id":"60adb152d4c6f92de2e89d62"},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product 400 225 - 31.177 ms","timestamp":"2021-08-02 10:13:58"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T03:20:00.000Z","timestamp":"2021-08-02 10:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 10:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 10:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 10:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 10:20:00"}
{"level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:25:29","statusCode":400,"error":4000,"errors":{},"messages":{"options":"\"options\" must contain at least 1 items"},"user_id":"5e747e4f6bd99e6a93faec25"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"60adb69a9a1909327669542a","company_id":"5e747f036bd99e6a93faef55","quantity":1,"model_id":"60adb152d4c6f92de2e89d62","options":[]},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product 400 160 - 5.977 ms","timestamp":"2021-08-02 10:25:29"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T03:30:00.000Z","timestamp":"2021-08-02 10:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 10:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 10:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 10:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 10:30:00"}
{"statusCode":404,"error":7000,"message":"client.sellingOptionNotFound","errors":{"option":7011000},"user_id":"5e747e4f6bd99e6a93faec25","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:35:24","stack":"Error: client.sellingOptionNotFound\n    at forEach (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:516:15)\n    at Array.forEach (<anonymous>)\n    at validateCart (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:510:13)\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:59:48)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"60adb69a9a1909327669542a","company_id":"5e747f036bd99e6a93faef55","quantity":1,"model_id":"60adb152d4c6f92de2e89d62","options":[{"option_id":"606fd60b0f1e2e3a9b9ee098","type_option_id":"606fd60b0f1e2e3a9b9ee099"}]},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product 404 222 - 48.292 ms","timestamp":"2021-08-02 10:35:24"}
{"statusCode":404,"error":7000,"message":"client.sellingOptionNotFound","errors":{"option":7011000},"user_id":"5e747e4f6bd99e6a93faec25","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:39:18","stack":"Error: client.sellingOptionNotFound\n    at forEach (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:516:15)\n    at Array.forEach (<anonymous>)\n    at validateCart (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:510:13)\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:59:48)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"60adb69a9a1909327669542a","company_id":"5e747f036bd99e6a93faef55","quantity":1,"model_id":"60adb152d4c6f92de2e89d62","options":[{"option_id":"606fd60b0f1e2e3a9b9ee098","type_option_id":"606fd60b0f1e2e3a9b9ee099"}]},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product 404 222 - 51.982 ms","timestamp":"2021-08-02 10:39:18"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T03:40:00.000Z","timestamp":"2021-08-02 10:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 10:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 10:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 10:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 10:40:00"}
{"statusCode":404,"error":7000,"message":"client.sellingOptionNotFound","errors":{"option":7011000},"user_id":"5e747e4f6bd99e6a93faec25","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 10:40:03","stack":"Error: client.sellingOptionNotFound\n    at forEach (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:516:15)\n    at Array.forEach (<anonymous>)\n    at validateCart (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:510:13)\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:59:48)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"60adb69a9a1909327669542a","company_id":"5e747f036bd99e6a93faef55","quantity":1,"model_id":"60adb152d4c6f92de2e89d62","options":[{"option_id":"606fd60b0f1e2e3a9b9ee098","type_option_id":"606fd60b0f1e2e3a9b9ee09a"}]},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product 404 222 - 36.174 ms","timestamp":"2021-08-02 10:40:03"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"60adb69a9a1909327669542a","company_id":"5e747f036bd99e6a93faef55","quantity":1,"model_id":"60adb152d4c6f92de2e89d62","options":[{"option_id":"606fd60b0f1e2e3a9b9ee09a","type_option_id":"606fd60b0f1e2e3a9b9ee098"}]},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product 200 6997 - 167.483 ms","timestamp":"2021-08-02 10:40:32"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T03:50:00.000Z","timestamp":"2021-08-02 10:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 10:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 10:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 10:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 10:50:00"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"60adb69a9a1909327669542a","company_id":"5e747f036bd99e6a93faef55","quantity":"1","model_id":"60adb152d4c6f92de2e89d62","options":[{"option_id":"606fd60b0f1e2e3a9b9ee09a","type_option_id":"606fd60b0f1e2e3a9b9ee098"}]},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"GET /api/s_/cart/v3/user/ 200 6956 - 65.797 ms","timestamp":"2021-08-02 10:59:01"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T04:00:00.000Z","timestamp":"2021-08-02 11:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 11:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 11:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 11:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 11:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"url /master-data/district {} { province_id: 0 } {}","timestamp":"2021-08-02 11:03:24"}
{"service":"sumviet-apidevelopment","level":"info","message":"Env version 1","timestamp":"2021-08-02 11:03:28"}
{"message":"cronjob topup combo start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:03:28"}
{"message":"cronjob category has product start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:03:28"}
{"message":"cronjob update promotion start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:03:28"}
{"message":"cronjob add schedule start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:03:28"}
{"service":"sumviet-apidevelopment","level":"info","message":"Start Date, 2021-08-01T17:00:00.000Z","timestamp":"2021-08-02 11:03:28"}
{"message":"Lucky shopping initializing...","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:03:28"}
{"message":"elasticsearch cluster is down!","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:03:31"}
{"message":"Database Connected","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:03:31"}
{"message":"cronjob auto handling unlucky shopping start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:03:31"}
{"service":"sumviet-apidevelopment","level":"info","message":"auto handling for date 02-08-2021 starting ....","timestamp":"2021-08-02 11:03:31"}
{"service":"sumviet-apidevelopment","level":"info","message":"luckyShopping null","timestamp":"2021-08-02 11:03:31"}
{"message":"INIT CONFIGS SUCCESS","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:03:31"}
{"message":"districtList loaded","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:03:31"}
{"service":"sumviet-apidevelopment","level":"info","message":"url /master-data/ward { district_id: -1 } {} {}","timestamp":"2021-08-02 11:03:31"}
{"message":"wardList loaded","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:03:35"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T04:10:00.000Z","timestamp":"2021-08-02 11:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 11:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 11:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 11:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 11:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"url /master-data/district {} { province_id: 0 } {}","timestamp":"2021-08-02 11:10:35"}
{"service":"sumviet-apidevelopment","level":"info","message":"Env version 1","timestamp":"2021-08-02 11:10:36"}
{"message":"cronjob topup combo start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:10:36"}
{"message":"cronjob category has product start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:10:36"}
{"message":"cronjob update promotion start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:10:36"}
{"message":"cronjob add schedule start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:10:36"}
{"service":"sumviet-apidevelopment","level":"info","message":"Start Date, 2021-08-01T17:00:00.000Z","timestamp":"2021-08-02 11:10:36"}
{"message":"Lucky shopping initializing...","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:10:36"}
{"message":"elasticsearch cluster is down!","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:10:36"}
{"message":"Database Connected","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:10:36"}
{"message":"cronjob auto handling unlucky shopping start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:10:37"}
{"service":"sumviet-apidevelopment","level":"info","message":"auto handling for date 02-08-2021 starting ....","timestamp":"2021-08-02 11:10:37"}
{"service":"sumviet-apidevelopment","level":"info","message":"luckyShopping null","timestamp":"2021-08-02 11:10:37"}
{"message":"INIT CONFIGS SUCCESS","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:10:37"}
{"message":"districtList loaded","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:10:37"}
{"service":"sumviet-apidevelopment","level":"info","message":"url /master-data/ward { district_id: -1 } {} {}","timestamp":"2021-08-02 11:10:37"}
{"message":"wardList loaded","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:10:41"}
{"service":"sumviet-apidevelopment","level":"info","message":"url /master-data/district {} { province_id: 0 } {}","timestamp":"2021-08-02 11:11:01"}
{"service":"sumviet-apidevelopment","level":"info","message":"Env version 1","timestamp":"2021-08-02 11:11:02"}
{"message":"cronjob topup combo start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:11:02"}
{"message":"cronjob category has product start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:11:02"}
{"message":"cronjob update promotion start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:11:02"}
{"message":"cronjob add schedule start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:11:02"}
{"service":"sumviet-apidevelopment","level":"info","message":"Start Date, 2021-08-01T17:00:00.000Z","timestamp":"2021-08-02 11:11:02"}
{"message":"Lucky shopping initializing...","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:11:02"}
{"message":"elasticsearch cluster is down!","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:11:02"}
{"message":"Database Connected","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:11:02"}
{"message":"cronjob auto handling unlucky shopping start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:11:02"}
{"service":"sumviet-apidevelopment","level":"info","message":"auto handling for date 02-08-2021 starting ....","timestamp":"2021-08-02 11:11:02"}
{"message":"INIT CONFIGS SUCCESS","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:11:02"}
{"service":"sumviet-apidevelopment","level":"info","message":"luckyShopping null","timestamp":"2021-08-02 11:11:02"}
{"message":"districtList loaded","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:11:03"}
{"service":"sumviet-apidevelopment","level":"info","message":"url /master-data/ward { district_id: -1 } {} {}","timestamp":"2021-08-02 11:11:03"}
{"message":"wardList loaded","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:11:06"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T04:20:00.000Z","timestamp":"2021-08-02 11:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 11:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 11:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 11:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 11:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T04:30:00.000Z","timestamp":"2021-08-02 11:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 11:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 11:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 11:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 11:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T04:40:00.000Z","timestamp":"2021-08-02 11:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 11:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 11:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 11:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 11:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T04:50:00.000Z","timestamp":"2021-08-02 11:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 11:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 11:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 11:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 11:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"url /master-data/district {} { province_id: 0 } {}","timestamp":"2021-08-02 11:54:57"}
{"service":"sumviet-apidevelopment","level":"info","message":"Env version 1","timestamp":"2021-08-02 11:55:02"}
{"message":"cronjob topup combo start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:55:02"}
{"message":"cronjob category has product start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:55:02"}
{"message":"cronjob update promotion start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:55:02"}
{"message":"cronjob add schedule start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:55:02"}
{"service":"sumviet-apidevelopment","level":"info","message":"Start Date, 2021-08-01T17:00:00.000Z","timestamp":"2021-08-02 11:55:02"}
{"message":"Lucky shopping initializing...","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:55:02"}
{"message":"elasticsearch cluster is down!","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:55:06"}
{"message":"Database Connected","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:55:06"}
{"message":"cronjob auto handling unlucky shopping start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:55:06"}
{"service":"sumviet-apidevelopment","level":"info","message":"auto handling for date 02-08-2021 starting ....","timestamp":"2021-08-02 11:55:06"}
{"message":"INIT CONFIGS SUCCESS","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:55:06"}
{"service":"sumviet-apidevelopment","level":"info","message":"luckyShopping null","timestamp":"2021-08-02 11:55:06"}
{"message":"districtList loaded","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:55:07"}
{"service":"sumviet-apidevelopment","level":"info","message":"url /master-data/ward { district_id: -1 } {} {}","timestamp":"2021-08-02 11:55:07"}
{"message":"wardList loaded","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 11:55:09"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T05:00:00.000Z","timestamp":"2021-08-02 12:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 12:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 12:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 12:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 12:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T05:10:00.000Z","timestamp":"2021-08-02 12:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 12:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 12:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 12:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 12:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T05:20:00.000Z","timestamp":"2021-08-02 12:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 12:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 12:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 12:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 12:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"url /master-data/district {} { province_id: 0 } {}","timestamp":"2021-08-02 12:27:29"}
{"service":"sumviet-apidevelopment","level":"info","message":"Env version 1","timestamp":"2021-08-02 12:27:34"}
{"message":"cronjob topup combo start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 12:27:34"}
{"message":"cronjob category has product start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 12:27:34"}
{"message":"cronjob update promotion start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 12:27:34"}
{"message":"cronjob add schedule start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 12:27:34"}
{"service":"sumviet-apidevelopment","level":"info","message":"Start Date, 2021-08-01T17:00:00.000Z","timestamp":"2021-08-02 12:27:34"}
{"message":"Lucky shopping initializing...","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 12:27:34"}
{"message":"elasticsearch cluster is down!","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 12:27:37"}
{"message":"Database Connected","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 12:27:37"}
{"message":"cronjob auto handling unlucky shopping start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 12:27:37"}
{"service":"sumviet-apidevelopment","level":"info","message":"auto handling for date 02-08-2021 starting ....","timestamp":"2021-08-02 12:27:37"}
{"message":"INIT CONFIGS SUCCESS","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 12:27:37"}
{"service":"sumviet-apidevelopment","level":"info","message":"luckyShopping null","timestamp":"2021-08-02 12:27:37"}
{"message":"districtList loaded","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 12:27:37"}
{"service":"sumviet-apidevelopment","level":"info","message":"url /master-data/ward { district_id: -1 } {} {}","timestamp":"2021-08-02 12:27:37"}
{"message":"wardList loaded","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 12:27:40"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T05:30:00.000Z","timestamp":"2021-08-02 12:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 12:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 12:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 12:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 12:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T05:40:00.000Z","timestamp":"2021-08-02 12:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 12:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 12:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 12:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 12:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T05:50:00.000Z","timestamp":"2021-08-02 12:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 12:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 12:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 12:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 12:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T06:00:00.000Z","timestamp":"2021-08-02 13:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 13:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 13:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 13:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 13:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T06:10:00.000Z","timestamp":"2021-08-02 13:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 13:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 13:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 13:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 13:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T06:20:00.000Z","timestamp":"2021-08-02 13:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 13:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 13:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 13:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 13:20:00"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"60adb69a9a1909327669542a","company_id":"5e747f036bd99e6a93faef55","quantity":"1","model_id":"60adb152d4c6f92de2e89d62","options":[{"option_id":"606fd60b0f1e2e3a9b9ee09a","type_option_id":"606fd60b0f1e2e3a9b9ee098"}]},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"GET /api/s_/cart/v3/user/ 200 6956 - 113.292 ms","timestamp":"2021-08-02 13:26:53"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T06:30:00.000Z","timestamp":"2021-08-02 13:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 13:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 13:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 13:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 13:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T06:40:00.000Z","timestamp":"2021-08-02 13:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 13:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 13:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 13:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 13:40:00"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"5e8e86a1f056ca68ee731c70","company_id":"5e7f09b2d317e07a635a5759","quantity":"10","model_id":"60a7f38611d36824a1b68c27","options":[{"option_id":"6062d5482abbfa5196478336","type_option_id":"606fc70a5c6e25282d0ef35d"}]},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"GET /api/s_/cart/v3/user/ 200 6956 - 50.935 ms","timestamp":"2021-08-02 13:44:55"}
{"statusCode":403,"error":7000,"message":"client.logisticsIsUnavailable","errors":{"logistics":7002302},"user_id":"5e747e4f6bd99e6a93faec25","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 13:45:13","stack":"Error: client.logisticsIsUnavailable\n    at validateCart (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:462:11)\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:59:48)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"5e8e86a1f056ca68ee731c70","company_id":"5e7f09b2d317e07a635a5759","quantity":10,"model_id":"60a7f38611d36824a1b68c27","options":[{"option_id":"6062d5482abbfa5196478336","type_option_id":"606fc70a5c6e25282d0ef35d"}]},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product 403 226 - 97.355 ms","timestamp":"2021-08-02 13:45:13"}
{"statusCode":403,"error":7000,"message":"client.logisticsIsUnavailable","errors":{"logistics":7002302},"user_id":"5e747e4f6bd99e6a93faec25","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 13:47:16","stack":"Error: client.logisticsIsUnavailable\n    at validateCart (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:462:11)\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:59:48)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"5e8e86a1f056ca68ee731c70","company_id":"5e7f09b2d317e07a635a5759","quantity":10,"model_id":"60a7f38611d36824a1b68c27","options":[{"option_id":"6062d5482abbfa5196478336","type_option_id":"606fc70a5c6e25282d0ef35d"}]},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product 403 226 - 32.044 ms","timestamp":"2021-08-02 13:47:16"}
{"statusCode":403,"error":7000,"message":"client.logisticsIsUnavailable","errors":{"logistics":7002302},"user_id":"5e747e4f6bd99e6a93faec25","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 13:49:49","stack":"Error: client.logisticsIsUnavailable\n    at validateCart (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:462:11)\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:59:48)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"5e8e86a1f056ca68ee731c70","company_id":"5e7f09b2d317e07a635a5759","quantity":10,"model_id":"60a7f38611d36824a1b68c27","options":[{"option_id":"6062d5482abbfa5196478336","type_option_id":"606fc70a5c6e25282d0ef35d"}]},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product/ 403 226 - 25.148 ms","timestamp":"2021-08-02 13:49:49"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T06:50:00.000Z","timestamp":"2021-08-02 13:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 13:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 13:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 13:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 13:50:00"}
{"statusCode":403,"error":7000,"message":"client.logisticsIsUnavailable","errors":{"logistics":7002302},"user_id":"5e747e4f6bd99e6a93faec25","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 13:58:46","stack":"Error: client.logisticsIsUnavailable\n    at validateCart (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:462:11)\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:59:48)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"5e8e86a1f056ca68ee731c70","company_id":"5e7f09b2d317e07a635a5759","quantity":10,"model_id":"60a7f38411d36824a1b6821d","options":[{"option_id":"6062d5482abbfa5196478336","type_option_id":"606fc70a5c6e25282d0ef35d"}]},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product/ 403 226 - 17.922 ms","timestamp":"2021-08-02 13:58:46"}
{"statusCode":403,"error":7000,"message":"client.companyNotExist","errors":{"company_id":7000100},"user_id":"5e747e4f6bd99e6a93faec25","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 13:59:01","stack":"Error: client.companyNotExist\n    at validateCart (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:456:11)\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:59:48)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"5e8e86a1f056ca68ee731c70","company_id":"5e747f036bd99e6a93faef55","quantity":10,"model_id":"60a7f38411d36824a1b6821d","options":[{"option_id":"6062d5482abbfa5196478336","type_option_id":"606fc70a5c6e25282d0ef35d"}]},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product/ 403 220 - 19.320 ms","timestamp":"2021-08-02 13:59:01"}
{"statusCode":404,"error":7000,"message":"client.sellingOptionNotFound","errors":{"option":7011000},"user_id":"5e747e4f6bd99e6a93faec25","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 13:59:22","stack":"Error: client.sellingOptionNotFound\n    at forEach (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:516:15)\n    at Array.forEach (<anonymous>)\n    at validateCart (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:510:13)\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:59:48)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"5e74949c6bd99e6a93fb2604","company_id":"5e747f036bd99e6a93faef55","quantity":10,"model_id":"60a7f38411d36824a1b6821d","options":[{"option_id":"6062d5482abbfa5196478336","type_option_id":"606fc70a5c6e25282d0ef35d"}]},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product/ 404 222 - 32.640 ms","timestamp":"2021-08-02 13:59:22"}
{"statusCode":404,"error":7000,"message":"client.sellingOptionNotFound","errors":{"option":7011000},"user_id":"5e747e4f6bd99e6a93faec25","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 13:59:38","stack":"Error: client.sellingOptionNotFound\n    at forEach (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:516:15)\n    at Array.forEach (<anonymous>)\n    at validateCart (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:510:13)\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:59:48)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"5e74949c6bd99e6a93fb2604","company_id":"5e747f036bd99e6a93faef55","quantity":10,"model_id":"60a7f38411d36824a1b6821d","options":[{"option_id":"606fc70a5c6e25282d0ef35d","type_option_id":"6062d5482abbfa5196478336"}]},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product/ 404 222 - 19.657 ms","timestamp":"2021-08-02 13:59:38"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T07:00:00.000Z","timestamp":"2021-08-02 14:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 14:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 14:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 14:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 14:00:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T07:10:00.000Z","timestamp":"2021-08-02 14:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 14:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 14:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 14:10:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 14:10:00"}
{"statusCode":404,"error":7000,"message":"client.sellingOptionNotFound","errors":{"option":7011000},"user_id":"5e747e4f6bd99e6a93faec25","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:12:45","stack":"Error: client.sellingOptionNotFound\n    at forEach (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:516:15)\n    at Array.forEach (<anonymous>)\n    at validateCart (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:510:13)\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:59:48)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"5e74949c6bd99e6a93fb2604","company_id":"5e747f036bd99e6a93faef55","quantity":10,"model_id":"60a7f38411d36824a1b6821d","options":[{"option_id":"6062d33ea8e2b54e9ee4643f","type_option_id":"6062d46d3076d3506fa7de4a"}]},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product/ 404 222 - 23.792 ms","timestamp":"2021-08-02 14:12:45"}
{"statusCode":404,"error":7000,"message":"client.sellingOptionNotFound","errors":{"option":7011000},"user_id":"5e747e4f6bd99e6a93faec25","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:13:10","stack":"Error: client.sellingOptionNotFound\n    at forEach (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:516:15)\n    at Array.forEach (<anonymous>)\n    at validateCart (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:510:13)\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:59:48)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"5e74949c6bd99e6a93fb2604","company_id":"5e747f036bd99e6a93faef55","quantity":10,"model_id":"60a7f38411d36824a1b6821d","options":[{"option_id":"6062d46d3076d3506fa7de4a","type_option_id":"6062d33ea8e2b54e9ee4643f"}]},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product/ 404 222 - 30.649 ms","timestamp":"2021-08-02 14:13:10"}
{"statusCode":404,"error":7000,"message":"client.sellingOptionNotFound","errors":{"option":7011000},"user_id":"5e747e4f6bd99e6a93faec25","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:15:06","stack":"Error: client.sellingOptionNotFound\n    at forEach (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:516:15)\n    at Array.forEach (<anonymous>)\n    at validateCart (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:510:13)\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:59:48)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"5e74949c6bd99e6a93fb2604","company_id":"5e747f036bd99e6a93faef55","quantity":10,"model_id":"60a7f38411d36824a1b6821d","options":[{"option_id":"6062d5482abbfa5196478336","type_option_id":"606fc70a5c6e25282d0ef35d"}]},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product/ 404 222 - 16.417 ms","timestamp":"2021-08-02 14:15:06"}
{"statusCode":404,"error":7000,"message":"client.sellingOptionNotFound","errors":{"option":7011000},"user_id":"5e747e4f6bd99e6a93faec25","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:15:17","stack":"Error: client.sellingOptionNotFound\n    at forEach (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:516:15)\n    at Array.forEach (<anonymous>)\n    at validateCart (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:510:13)\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:59:48)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"5e74949c6bd99e6a93fb2604","company_id":"5e747f036bd99e6a93faef55","quantity":10,"model_id":"60a7f38411d36824a1b6821d","options":[{"option_id":"606fc70a5c6e25282d0ef35d","type_option_id":"6062d5482abbfa5196478336"}]},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product/ 404 222 - 29.489 ms","timestamp":"2021-08-02 14:15:17"}
{"service":"sumviet-apidevelopment","level":"info","message":"url /master-data/district {} { province_id: 0 } {}","timestamp":"2021-08-02 14:15:35"}
{"service":"sumviet-apidevelopment","level":"info","message":"Env version 1","timestamp":"2021-08-02 14:15:36"}
{"message":"cronjob topup combo start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:15:36"}
{"message":"cronjob category has product start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:15:36"}
{"message":"cronjob update promotion start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:15:36"}
{"message":"cronjob add schedule start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:15:36"}
{"service":"sumviet-apidevelopment","level":"info","message":"Start Date, 2021-08-01T17:00:00.000Z","timestamp":"2021-08-02 14:15:36"}
{"message":"Lucky shopping initializing...","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:15:36"}
{"message":"elasticsearch cluster is down!","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:15:36"}
{"message":"Database Connected","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:15:36"}
{"message":"cronjob auto handling unlucky shopping start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:15:36"}
{"service":"sumviet-apidevelopment","level":"info","message":"auto handling for date 02-08-2021 starting ....","timestamp":"2021-08-02 14:15:36"}
{"service":"sumviet-apidevelopment","level":"info","message":"luckyShopping null","timestamp":"2021-08-02 14:15:37"}
{"message":"INIT CONFIGS SUCCESS","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:15:37"}
{"message":"districtList loaded","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:15:37"}
{"service":"sumviet-apidevelopment","level":"info","message":"url /master-data/ward { district_id: -1 } {} {}","timestamp":"2021-08-02 14:15:37"}
{"message":"wardList loaded","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:15:40"}
{"service":"sumviet-apidevelopment","level":"info","message":"url /master-data/district {} { province_id: 0 } {}","timestamp":"2021-08-02 14:15:59"}
{"service":"sumviet-apidevelopment","level":"info","message":"Env version 1","timestamp":"2021-08-02 14:16:00"}
{"message":"cronjob topup combo start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:16:00"}
{"message":"cronjob category has product start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:16:00"}
{"message":"cronjob update promotion start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:16:00"}
{"message":"cronjob add schedule start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:16:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Start Date, 2021-08-01T17:00:00.000Z","timestamp":"2021-08-02 14:16:00"}
{"message":"Lucky shopping initializing...","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:16:00"}
{"message":"elasticsearch cluster is down!","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:16:00"}
{"message":"Database Connected","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:16:00"}
{"message":"cronjob auto handling unlucky shopping start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:16:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"auto handling for date 02-08-2021 starting ....","timestamp":"2021-08-02 14:16:00"}
{"message":"INIT CONFIGS SUCCESS","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:16:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"luckyShopping null","timestamp":"2021-08-02 14:16:00"}
{"message":"districtList loaded","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:16:01"}
{"service":"sumviet-apidevelopment","level":"info","message":"url /master-data/ward { district_id: -1 } {} {}","timestamp":"2021-08-02 14:16:01"}
{"statusCode":404,"error":7000,"message":"client.sellingOptionNotFound","errors":{"option":7011000},"user_id":"5e747e4f6bd99e6a93faec25","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:16:08","stack":"Error: client.sellingOptionNotFound\n    at forEach (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:516:15)\n    at Array.forEach (<anonymous>)\n    at validateCart (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:510:13)\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:59:48)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"5e74949c6bd99e6a93fb2604","company_id":"5e747f036bd99e6a93faef55","quantity":10,"model_id":"60a7f38411d36824a1b6821d","options":[{"option_id":"606fc70a5c6e25282d0ef35d","type_option_id":"6062d5482abbfa5196478336"}]},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product/ 404 222 - 106.163 ms","timestamp":"2021-08-02 14:16:08"}
{"message":"wardList loaded","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:16:15"}
{"statusCode":404,"error":7000,"message":"client.sellingOptionNotFound","errors":{"option":7011000},"user_id":"5e747e4f6bd99e6a93faec25","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:17:01","stack":"Error: client.sellingOptionNotFound\n    at forEach (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:516:15)\n    at Array.forEach (<anonymous>)\n    at validateCart (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:510:13)\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:59:48)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"5e74949c6bd99e6a93fb2604","company_id":"5e747f036bd99e6a93faef55","quantity":10,"model_id":"60a7f38411d36824a1b6821d","options":[{"option_id":"6062d5482abbfa5196478336","type_option_id":"606fc70a5c6e25282d0ef35c"}]},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product/ 404 222 - 64.576 ms","timestamp":"2021-08-02 14:17:01"}
{"statusCode":404,"error":7000,"message":"client.sellingOptionNotFound","errors":{"option":7011000},"user_id":"5e747e4f6bd99e6a93faec25","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:18:25","stack":"Error: client.sellingOptionNotFound\n    at forEach (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:516:15)\n    at Array.forEach (<anonymous>)\n    at validateCart (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:510:13)\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:59:48)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"5e74949c6bd99e6a93fb2604","company_id":"5e747f036bd99e6a93faef55","quantity":10,"model_id":"60a7f38411d36824a1b6821d","options":[{"option_id":"606fc70a5c6e25282d0ef35d","type_option_id":"606fc70a5c6e25282d0ef35c"}]},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product/ 404 222 - 51.911 ms","timestamp":"2021-08-02 14:18:25"}
{"statusCode":404,"error":7000,"message":"client.sellingOptionNotFound","errors":{"option":7011000},"user_id":"5e747e4f6bd99e6a93faec25","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:18:39","stack":"Error: client.sellingOptionNotFound\n    at forEach (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:516:15)\n    at Array.forEach (<anonymous>)\n    at validateCart (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:510:13)\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:59:48)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"5e74949c6bd99e6a93fb2604","company_id":"5e747f036bd99e6a93faef55","quantity":10,"model_id":"60a7f38411d36824a1b6821d","options":[{"option_id":"606fc70a5c6e25282d0ef35c","type_option_id":"606fc70a5c6e25282d0ef35c"}]},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product/ 404 222 - 36.815 ms","timestamp":"2021-08-02 14:18:39"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T07:20:00.000Z","timestamp":"2021-08-02 14:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 14:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 14:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 14:20:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 14:20:00"}
{"statusCode":404,"error":7000,"message":"client.sellingOptionNotFound","errors":{"option":7011000},"user_id":"5e747e4f6bd99e6a93faec25","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 14:20:29","stack":"Error: client.sellingOptionNotFound\n    at forEach (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:516:15)\n    at Array.forEach (<anonymous>)\n    at validateCart (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:510:13)\n    at _callee2$ (/home/minhkha/Desktop/store/stht-server/src/search/cart/v3/cart.handler.js:59:48)\n    at tryCatch (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:63:40)\n    at Generator.invoke [as _invoke] (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:294:22)\n    at Generator.next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js:119:21)\n    at asyncGeneratorStep (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:24)\n    at _next (/home/minhkha/Desktop/store/stht-server/node_modules/@babel/runtime/helpers/asyncToGenerator.js:25:9)"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"5e74949c6bd99e6a93fb2604","company_id":"5e747f036bd99e6a93faef55","quantity":10,"model_id":"60a7f38411d36824a1b6821d","options":[{"option_id":"6062d5482abbfa5196478336","type_option_id":"6062d5482abbfa5196478336"}]},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product/ 404 222 - 44.816 ms","timestamp":"2021-08-02 14:20:29"}
{"service":"sumviet-apidevelopment","body":{"product_storing_id":"5e74949c6bd99e6a93fb2604","company_id":"5e747f036bd99e6a93faef55","quantity":10,"model_id":"60a7f38411d36824a1b6821d"},"user_id":"5e747e4f6bd99e6a93faec25","level":"info","message":"POST /api/s_/cart/v3/user/product/ 200 9653 - 176.757 ms","timestamp":"2021-08-02 14:22:30"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T07:30:00.000Z","timestamp":"2021-08-02 14:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 14:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 14:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 14:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 14:30:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T07:40:00.000Z","timestamp":"2021-08-02 14:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 14:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 14:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 14:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 14:40:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"Update company by promotion changes 2021-08-02T07:50:00.000Z","timestamp":"2021-08-02 14:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringGlobalPromotion 0","timestamp":"2021-08-02 14:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of expiringPromotions 0","timestamp":"2021-08-02 14:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startGlobalPromotion 0","timestamp":"2021-08-02 14:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"number of startingPromotions 0","timestamp":"2021-08-02 14:50:00"}
{"service":"sumviet-apidevelopment","level":"info","message":"url /master-data/district {} { province_id: 0 } {}","timestamp":"2021-08-02 20:00:19"}
{"service":"sumviet-apidevelopment","level":"info","message":"Env version 1","timestamp":"2021-08-02 20:00:21"}
{"message":"cronjob topup combo start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 20:00:21"}
{"message":"cronjob category has product start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 20:00:21"}
{"message":"cronjob update promotion start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 20:00:21"}
{"message":"cronjob add schedule start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 20:00:21"}
{"service":"sumviet-apidevelopment","level":"info","message":"Start Date, 2021-08-01T17:00:00.000Z","timestamp":"2021-08-02 20:00:21"}
{"message":"Lucky shopping initializing...","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 20:00:21"}
{"message":"elasticsearch cluster is down!","level":"error","service":"sumviet-apidevelopment","timestamp":"2021-08-02 20:00:21"}
{"message":"Database Connected","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 20:00:21"}
{"message":"cronjob auto handling unlucky shopping start!","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 20:00:21"}
{"service":"sumviet-apidevelopment","level":"info","message":"auto handling for date 02-08-2021 starting ....","timestamp":"2021-08-02 20:00:21"}
{"message":"INIT CONFIGS SUCCESS","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 20:00:21"}
{"service":"sumviet-apidevelopment","level":"info","message":"luckyShopping null","timestamp":"2021-08-02 20:00:21"}
{"message":"districtList loaded","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 20:00:22"}
{"service":"sumviet-apidevelopment","level":"info","message":"url /master-data/ward { district_id: -1 } {} {}","timestamp":"2021-08-02 20:00:22"}
{"message":"wardList loaded","level":"info","service":"sumviet-apidevelopment","timestamp":"2021-08-02 20:00:26"}
